<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
<title>Hi, how are you?</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="An artificial pandemic of happines!">
<link data-n-head="true" rel="icon" type="image/x-icon" href="/favicon.ico">
<!---
LICENSE: AGPL-version-3

~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
 _____                      _   _           _
|  __ \                    | | | |         | |
| |  | | ___  ___ ___ _ __ | |_| |     __ _| |__  ___   ___  ___
| |  | |/ _ \/ __/ _ \ '_ \| __| |    / _` | '_ \/ __| / __|/ _ \
| |__| |  __/ (_|  __/ | | | |_| |___| (_| | |_) \__ \_\__ \  __/
|_____/ \___|\___\___|_| |_|\__|______\__,_|_.__/|___(_)___/\___|
                       ~ PRESENTS ~

      Name:     survive.click
      Type:     Decentralized App (Web)
      Year:     2020
      Size:     180k
      nFuks:    4/5
      MinRes:   320px

~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*

    Hello World!

    I don't know how to cure virii or produce TP, but I can
    engineer their digital counterpart.
    This one is designed to attack your "meh"-recepticles
    and stimulate your _PERCEPTION_ of reality.

    Your mood pebble is pseudo anonymous, meaning it's securely
    encrypted until an autonomous statistical witness or a heartless
    dickwad decrypts it using the public secret `K0`.
    K0 is attached at the bottom of this document but
    don't worry I've enclosed it in a strong cryptomantic seal.
    Your pebbles are safe!

    If you can help build the ASW or do the data-cleanup or analysis or
    make cool diagrams'n'shit - please Join me!
    (Actually if you're a virus fan like me, then you're welcome to)

    Survive and stay comfty~
    / telam0hn <telamohn@pm.me>

    Github: https://github.com/telamon/survive.click
    Discord: https://discord.gg/K5XjmZx
    Telegram: https://t.me/decentlabs_se
    Patreon: https://www.patreon.com/decentlabs

~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*-->
<style>
  body {
      text-align: center;
      font-family: Helvetica;
  }
  a, a:visited, a:hover, a:active { color: blue; }
  @media only screen and (max-width: 600px) {

  }

  h1,h2,h3 { font-weight: 100; }
  h3 i { font-weight: 100; }
  form label {
    display: inline-block;
    text-align: center;
    whitespace: no-wrap;
    background-color: #e5e5e5;
    transform: rotate(90deg);
    border-radius: 100%;
    font-size: 3em;
  }
  #c5+label { transform: rotate(270deg) scaleY(-1); }
  #c2+label small { font-size: 0.4em; font-weight: bold; }
  /* #c2:checked+label { }*/
  fieldset { font-size 1.7em; }
  legend { font-weight: 100; font-size: small; }

  #c0:checked+label { background-color: #94db7a; }
  #c1:checked+label { background-color: #eacc71; }
  #c2:checked+label { background-color: #d29fc6; }
  #c3:checked+label { background-color: #91b0d9; }
  #c4:checked+label { background-color: #7fbd8c; }
  #c5:checked+label { background-color: #e66363; }
  input[type="radio"]:checked+label{
    animation: idle 1.5s infinite ease-in-out alternate;
  }
  @keyframes idle {
    from { font-size: 3em; padding-right: 0; }
    to { font-size: 2.7em; padding-right: 0.2em;}
  }
  form input[type=radio] { display: none;  }
  code { display: block; }
  #pickleLink { color: green; }

  .grid1 {
    display: grid;
    grid-template-columns: 1fr 1.2fr 0.5fr 1.2fr 1fr;
  }
  .colc { grid-column: 2 / 5; }
  #options {
    margin: 2em 0;
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    /*display: flex;
    flex-direction: row;
    justify-content: space-between;*/
    -webkit-touch-callout: none; /* iOS Safari */
      -webkit-user-select: none; /* Safari */
       -khtml-user-select: none; /* Konqueror HTML */
         -moz-user-select: none; /* Firefox */
          -ms-user-select: none; /* Internet Explorer/Edge */
              user-select: none; /* Non-prefixed version, currently
                                    supported by Chrome and Opera */
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  #poll {
    /*max-width: 720px;*/
  }
footer .ad { color: #555; }
button {
  border: 1px solid #eee;
  padding: 5px 1em;
  margin: 3px;
  font-weight: bold;
  color: #555;
}
.subl {
  color: #888;
  font-weight: 100;
}
#social a {
  display: inline-block;
  border: 1px solid rgba(200,200,200,0.5);
  padding: 5px 1em;
  margin: 3px;
  /* font-weight: bold; */
  background-color: #ddd;
  color: #777;
  font-size: 0.7em;
  text-decoration: none;
  border-radius: 2px;
}
#replicate a:hover { background-color: #eee; }

@media (max-width: 600px) {
  #poll { grid-column: 1 / 6 }
  form label { font-size: 2em; }

  @keyframes idle {
    from { font-size: 2em; padding-right: 0; }
    to { font-size: 1.7em; padding-right: 0.2em;}
  }
}
</style>
  </head>
  <body class="grid1">
  <form id="poll" class="colc">
    <fieldset>
      <legend id="motd">motd#0: void says null</legend>
      <h3><small>1.</small> Pick A Pebble</h3>
      <section id="options">
        <div>
          <input type="radio" id="c0" name="mood" value="3"/>
          <label for="c0"><span class="r">:D</span></label>
        </div>

        <div>
          <input type="radio" id="c1" name="mood" value="2"/>
          <label for="c1"><span class="r">:)</span></label>
        </div>

        <div>
          <input type="radio" id="c2" name="mood" value="1"/>
          <label for="c2">:<small>&gt;</small></label>
        </div>

        <div>
          <input type="radio" id="c3" name="mood" value="-1" />
          <label for="c3">:<small>\</small></label>
        </div>

        <div>
          <input type="radio" id="c4" name="mood" value="-2"/>
          <label for="c4">:<small>c</small></label>
        </div>

        <div>
          <input type="radio" id="c5" name="mood" value="-3"/>
          <label for="c5">D:</label>
        </div>
      </section>
      <section id="replicate">
        <h3><small>2.</small> Hide it in plain sight</h3>
        <p id="social">

          <a id="aTw" href="#">Twyttr</a>
          <a id="aFb" href="#">FÃ¤cebook</a>
          <a id="aVk" href="#">vKontrakte</a>
          <!-- We don't have a telegram-bot witness yet,
            and regardless each ballot needs to be sent in public
            in order to verify the validity of the witness' dataset.
          <a id="aTg" href="#">Telegram</a>
          -->
        </p>
        <p>
          <!-- this was my fallback if above social share buttons wouldn't work
            luckily i managed to sort it out, being a question of to little
            or too much encodeURIComponent ;)
          -->
          <a id="pickleLink" href="">ðŸ¥’pebblelink</a>
          <br/>
          <small class="subl">(or plant your pebblelink anywhere ðŸ¤– can see)</small>
          <br/>
          <input type="text" id="pickleInput">
        </p>
      </section>
    </fieldset>
  </form>
  <footer class="colc">
    <code>v1.0.0
      <a href="https://github.com/telamon/survive.click">Source</a>
      <a href="https://github.com/telamon/survive.click/issues">Issues</a>
      <a href="https://github.com/telamon/survive.click/blob/master/LICENSE">License</a>
      <a href="" id="panicButton">Panic!</a>
    </code>
    <code class="subl">CopyleftÂ©2020 <a style="color: #888" href="http://decentlabs.se">DecentLabs</a></code>
  </footer>
<script>!function(){for(var A,t,e=(A=function(A,r){(function(A){"use strict";r.Buffer=A,r.INSPECT_MAX_BYTES=50;var e=2147483647;function i(t){if(t>e)throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=new Uint8Array(t);return r.__proto__=A.prototype,r}function A(A,t,e){if("number"==typeof A){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return I(A)}return o(A,t,e)}function o(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!A.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|s(t,e),o=i(r),n=o.write(t,e);return n!==r&&(o=o.slice(0,n)),o}(t,e);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(H(t,ArrayBuffer)||t&&H(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r)).__proto__=A.prototype,i}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return A.from(o,e,r);var n=function(t){if(A.isBuffer(t)){var e=0|g(t.length),r=i(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}return void 0!==t.length?"number"!=typeof t.length||T(t.length)?i(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return A.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function n(A){if("number"!=typeof A)throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function I(A){return n(A),i(A<0?0:0|g(A))}function h(A){for(var t=A.length<0?0:0|g(A.length),e=i(t),r=0;r<t;r+=1)e[r]=255&A[r];return e}function g(A){if(A>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|A}function s(t,e){if(A.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||H(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return x(t).length;default:if(o)return i?-1:k(t).length;e=(""+e).toLowerCase(),o=!0}}function f(A,t,e){var r=A[t];A[t]=A[e],A[e]=r}function E(t,e,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),T(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=A.from(e,i)),A.isBuffer(e))return 0===e.length?-1:C(t,e,r,i,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):C(t,[e],r,i,o);throw new TypeError("val must be string, number or Buffer")}function C(A,t,e,r,i){var o,n=1,I=A.length,h=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(A.length<2||t.length<2)return-1;n=2,I/=2,h/=2,e/=2}function g(A,t){return 1===n?A[t]:A.readUInt16BE(t*n)}if(i){var s=-1;for(o=e;o<I;o++)if(g(A,o)===g(t,-1===s?0:o-s)){if(-1===s&&(s=o),o-s+1===h)return s*n}else-1!==s&&(o-=o-s),s=-1}else for(e+h>I&&(e=I-h),o=e;o>=0;o--){for(var f=!0,E=0;E<h;E++)if(g(A,o+E)!==g(t,E)){f=!1;break}if(f)return o}return-1}function a(A,t,e,r){e=Number(e)||0;var i=A.length-e;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var n=0;n<r;++n){var I=parseInt(t.substr(2*n,2),16);if(T(I))return n;A[e+n]=I}return n}function c(A,t,e,r){return G(k(t,A.length-e),A,e,r)}function y(A,t,e,r){return G(function(A){for(var t=[],e=0;e<A.length;++e)t.push(255&A.charCodeAt(e));return t}(t),A,e,r)}function B(A,t,e,r){return y(A,t,e,r)}function u(A,t,e,r){return G(x(t),A,e,r)}function l(A,t,e,r){return G(function(A,t){for(var e,r,i,o=[],n=0;n<A.length&&!((t-=2)<0);++n)r=(e=A.charCodeAt(n))>>8,i=e%256,o.push(i),o.push(r);return o}(t,A.length-e),A,e,r)}function p(A,t,e){return 0===t&&e===A.length?Q.fromByteArray(A):Q.fromByteArray(A.slice(t,e))}function w(A,t,e){e=Math.min(A.length,e);for(var r=[],i=t;i<e;){var o,n,I,h,g=A[i],s=null,f=g>239?4:g>223?3:g>191?2:1;if(i+f<=e)switch(f){case 1:g<128&&(s=g);break;case 2:128==(192&(o=A[i+1]))&&(h=(31&g)<<6|63&o)>127&&(s=h);break;case 3:o=A[i+1],n=A[i+2],128==(192&o)&&128==(192&n)&&(h=(15&g)<<12|(63&o)<<6|63&n)>2047&&(h<55296||h>57343)&&(s=h);break;case 4:o=A[i+1],n=A[i+2],I=A[i+3],128==(192&o)&&128==(192&n)&&128==(192&I)&&(h=(15&g)<<18|(63&o)<<12|(63&n)<<6|63&I)>65535&&h<1114112&&(s=h)}null===s?(s=65533,f=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=f}return function(A){var t=A.length;if(t<=d)return String.fromCharCode.apply(String,A);for(var e="",r=0;r<t;)e+=String.fromCharCode.apply(String,A.slice(r,r+=d));return e}(r)}A.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===A.foo()}catch(t){return!1}}(),A.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),A.poolSize=8192,A.from=function(A,t,e){return o(A,t,e)},A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,A.alloc=function(A,t,e){return function(A,t,e){return n(A),A<=0?i(A):void 0!==t?"string"==typeof e?i(A).fill(t,e):i(A).fill(t):i(A)}(A,t,e)},A.allocUnsafe=function(A){return I(A)},A.allocUnsafeSlow=function(A){return I(A)},A.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==A.prototype},A.compare=function(t,e){if(H(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),H(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(t)||!A.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,i=e.length,o=0,n=Math.min(r,i);o<n;++o)if(t[o]!==e[o]){r=t[o],i=e[o];break}return r<i?-1:i<r?1:0},A.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return A.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=A.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var n=t[r];if(H(n,Uint8Array)&&(n=A.from(n)),!A.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(i,o),o+=n.length}return i},A.byteLength=s,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<A;t+=2)f(this,t,t+1);return this},A.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<A;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},A.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<A;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},A.prototype.toString=function(){var A=this.length;return 0===A?"":0===arguments.length?w(this,0,A):function(A,t,e){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(t>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return b(this,t,e);case"utf8":case"utf-8":return w(this,t,e);case"ascii":return S(this,t,e);case"latin1":case"binary":return D(this,t,e);case"base64":return p(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e);default:if(r)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),r=!0}}.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(t){if(!A.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===A.compare(this,t)},A.prototype.inspect=function(){var A="",t=r.INSPECT_MAX_BYTES;return A=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(A+=" ... "),"<Buffer "+A+">"},A.prototype.compare=function(t,e,r,i,o){if(H(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),!A.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=r)return 0;if(i>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var n=(o>>>=0)-(i>>>=0),I=(r>>>=0)-(e>>>=0),h=Math.min(n,I),g=this.slice(i,o),s=t.slice(e,r),f=0;f<h;++f)if(g[f]!==s[f]){n=g[f],I=s[f];break}return n<I?-1:I<n?1:0},A.prototype.includes=function(A,t,e){return-1!==this.indexOf(A,t,e)},A.prototype.indexOf=function(A,t,e){return E(this,A,t,e,!0)},A.prototype.lastIndexOf=function(A,t,e){return E(this,A,t,e,!1)},A.prototype.write=function(A,t,e,r){if(void 0===t)r="utf8",e=this.length,t=0;else if(void 0===e&&"string"==typeof t)r=t,e=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(e)?(e>>>=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var i=this.length-t;if((void 0===e||e>i)&&(e=i),A.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return a(this,A,t,e);case"utf8":case"utf-8":return c(this,A,t,e);case"ascii":return y(this,A,t,e);case"latin1":case"binary":return B(this,A,t,e);case"base64":return u(this,A,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,A,t,e);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var d=4096;function S(A,t,e){var r="";e=Math.min(A.length,e);for(var i=t;i<e;++i)r+=String.fromCharCode(127&A[i]);return r}function D(A,t,e){var r="";e=Math.min(A.length,e);for(var i=t;i<e;++i)r+=String.fromCharCode(A[i]);return r}function b(A,t,e){var r,i=A.length;(!t||t<0)&&(t=0),(!e||e<0||e>i)&&(e=i);for(var o="",n=t;n<e;++n)o+=(r=A[n])<16?"0"+r.toString(16):r.toString(16);return o}function _(A,t,e){for(var r=A.slice(t,e),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(A,t,e){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+t>e)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,r,i,o,n){if(!A.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<n)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function Y(A,t,e,r,i,o){if(e+r>A.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function K(A,t,e,r,i){return t=+t,e>>>=0,i||Y(A,0,e,4),U.write(A,t,e,r,23,4),e+4}function v(A,t,e,r,i){return t=+t,e>>>=0,i||Y(A,0,e,8),U.write(A,t,e,r,52,8),e+8}A.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=A.prototype,i},A.prototype.readUIntLE=function(A,t,e){A>>>=0,t>>>=0,e||M(A,t,this.length);for(var r=this[A],i=1,o=0;++o<t&&(i*=256);)r+=this[A+o]*i;return r},A.prototype.readUIntBE=function(A,t,e){A>>>=0,t>>>=0,e||M(A,t,this.length);for(var r=this[A+--t],i=1;t>0&&(i*=256);)r+=this[A+--t]*i;return r},A.prototype.readUInt8=function(A,t){return A>>>=0,t||M(A,1,this.length),this[A]},A.prototype.readUInt16LE=function(A,t){return A>>>=0,t||M(A,2,this.length),this[A]|this[A+1]<<8},A.prototype.readUInt16BE=function(A,t){return A>>>=0,t||M(A,2,this.length),this[A]<<8|this[A+1]},A.prototype.readUInt32LE=function(A,t){return A>>>=0,t||M(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},A.prototype.readUInt32BE=function(A,t){return A>>>=0,t||M(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},A.prototype.readIntLE=function(A,t,e){A>>>=0,t>>>=0,e||M(A,t,this.length);for(var r=this[A],i=1,o=0;++o<t&&(i*=256);)r+=this[A+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},A.prototype.readIntBE=function(A,t,e){A>>>=0,t>>>=0,e||M(A,t,this.length);for(var r=t,i=1,o=this[A+--r];r>0&&(i*=256);)o+=this[A+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},A.prototype.readInt8=function(A,t){return A>>>=0,t||M(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},A.prototype.readInt16LE=function(A,t){A>>>=0,t||M(A,2,this.length);var e=this[A]|this[A+1]<<8;return 32768&e?4294901760|e:e},A.prototype.readInt16BE=function(A,t){A>>>=0,t||M(A,2,this.length);var e=this[A+1]|this[A]<<8;return 32768&e?4294901760|e:e},A.prototype.readInt32LE=function(A,t){return A>>>=0,t||M(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},A.prototype.readInt32BE=function(A,t){return A>>>=0,t||M(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},A.prototype.readFloatLE=function(A,t){return A>>>=0,t||M(A,4,this.length),U.read(this,A,!0,23,4)},A.prototype.readFloatBE=function(A,t){return A>>>=0,t||M(A,4,this.length),U.read(this,A,!1,23,4)},A.prototype.readDoubleLE=function(A,t){return A>>>=0,t||M(A,8,this.length),U.read(this,A,!0,52,8)},A.prototype.readDoubleBE=function(A,t){return A>>>=0,t||M(A,8,this.length),U.read(this,A,!1,52,8)},A.prototype.writeUIntLE=function(A,t,e,r){A=+A,t>>>=0,e>>>=0,r||F(this,A,t,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[t]=255&A;++o<e&&(i*=256);)this[t+o]=A/i&255;return t+e},A.prototype.writeUIntBE=function(A,t,e,r){A=+A,t>>>=0,e>>>=0,r||F(this,A,t,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[t+i]=255&A;--i>=0&&(o*=256);)this[t+i]=A/o&255;return t+e},A.prototype.writeUInt8=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,1,255,0),this[t]=255&A,t+1},A.prototype.writeUInt16LE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,2,65535,0),this[t]=255&A,this[t+1]=A>>>8,t+2},A.prototype.writeUInt16BE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,2,65535,0),this[t]=A>>>8,this[t+1]=255&A,t+2},A.prototype.writeUInt32LE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,4,4294967295,0),this[t+3]=A>>>24,this[t+2]=A>>>16,this[t+1]=A>>>8,this[t]=255&A,t+4},A.prototype.writeUInt32BE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,4,4294967295,0),this[t]=A>>>24,this[t+1]=A>>>16,this[t+2]=A>>>8,this[t+3]=255&A,t+4},A.prototype.writeIntLE=function(A,t,e,r){if(A=+A,t>>>=0,!r){var i=Math.pow(2,8*e-1);F(this,A,t,e,i-1,-i)}var o=0,n=1,I=0;for(this[t]=255&A;++o<e&&(n*=256);)A<0&&0===I&&0!==this[t+o-1]&&(I=1),this[t+o]=(A/n>>0)-I&255;return t+e},A.prototype.writeIntBE=function(A,t,e,r){if(A=+A,t>>>=0,!r){var i=Math.pow(2,8*e-1);F(this,A,t,e,i-1,-i)}var o=e-1,n=1,I=0;for(this[t+o]=255&A;--o>=0&&(n*=256);)A<0&&0===I&&0!==this[t+o+1]&&(I=1),this[t+o]=(A/n>>0)-I&255;return t+e},A.prototype.writeInt8=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,1,127,-128),A<0&&(A=255+A+1),this[t]=255&A,t+1},A.prototype.writeInt16LE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,2,32767,-32768),this[t]=255&A,this[t+1]=A>>>8,t+2},A.prototype.writeInt16BE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,2,32767,-32768),this[t]=A>>>8,this[t+1]=255&A,t+2},A.prototype.writeInt32LE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,4,2147483647,-2147483648),this[t]=255&A,this[t+1]=A>>>8,this[t+2]=A>>>16,this[t+3]=A>>>24,t+4},A.prototype.writeInt32BE=function(A,t,e){return A=+A,t>>>=0,e||F(this,A,t,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[t]=A>>>24,this[t+1]=A>>>16,this[t+2]=A>>>8,this[t+3]=255&A,t+4},A.prototype.writeFloatLE=function(A,t,e){return K(this,A,t,!0,e)},A.prototype.writeFloatBE=function(A,t,e){return K(this,A,t,!1,e)},A.prototype.writeDoubleLE=function(A,t,e){return v(this,A,t,!0,e)},A.prototype.writeDoubleBE=function(A,t,e){return v(this,A,t,!1,e)},A.prototype.copy=function(t,e,r,i){if(!A.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var o=i-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,i);else if(this===t&&r<e&&e<i)for(var n=o-1;n>=0;--n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),e);return o},A.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!A.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var o=t.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var n;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{var I=A.isBuffer(t)?t:A.from(t,i),h=I.length;if(0===h)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<r-e;++n)this[n+e]=I[n%h]}return this};var m=/[^+/0-9A-Za-z-_]/g;function k(A,t){var e;t=t||1/0;for(var r=A.length,i=null,o=[],n=0;n<r;++n){if((e=A.charCodeAt(n))>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(n+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function x(A){return Q.toByteArray(function(A){if((A=(A=A.split("=")[0]).trim().replace(m,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(A))}function G(A,t,e,r){for(var i=0;i<r&&!(i+e>=t.length||i>=A.length);++i)t[i+e]=A[i];return i}function H(A,t){return A instanceof t||null!=A&&null!=A.constructor&&null!=A.constructor.name&&A.constructor.name===t.name}function T(A){return A!=A}}).call(this,e({}).Buffer)},function(e){return t||A(t={exports:{},parent:e},t.exports),t.exports}),r=128,i=-128,o=Math.pow(2,31),n=128,I=127,h=Math.pow(2,7),g=Math.pow(2,14),s=Math.pow(2,21),f=Math.pow(2,28),E=Math.pow(2,35),C=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),y=Math.pow(2,63),B={encode:function A(t,e,n){e=e||[];for(var I=n=n||0;t>=o;)e[n++]=255&t|r,t/=128;for(;t&i;)e[n++]=255&t|r,t>>>=7;return e[n]=0|t,A.bytes=n-I+1,e},decode:function A(t,e){var r,i=0,o=0,h=e=e||0,g=t.length;do{if(h>=g)throw A.bytes=0,new RangeError("Could not decode varint");r=t[h++],i+=o<28?(r&I)<<o:(r&I)*Math.pow(2,o),o+=7}while(r>=n);return A.bytes=h-e,i},encodingLength:function(A){return A<h?1:A<g?2:A<s?3:A<f?4:A<E?5:A<C?6:A<a?7:A<c?8:A<y?9:10}},u={encode:function A(t,e,r){var i=B.encode(t=t>=0?2*t:-2*t-1,e,r);return A.bytes=B.encode.bytes,i},decode:function A(t,e){var r=B.decode(t,e);return A.bytes=B.decode.bytes,1&r?(r+1)/-2:r/2},encodingLength:function(A){return B.encodingLength(A>=0?2*A:-2*A-1)}},Q={toByteArray:function(A){var t,e,r=b(A),i=r[0],o=r[1],n=new w(function(A,t,e){return 3*(t+e)/4-e}(0,i,o)),I=0,h=o>0?i-4:i;for(e=0;e<h;e+=4)t=p[A.charCodeAt(e)]<<18|p[A.charCodeAt(e+1)]<<12|p[A.charCodeAt(e+2)]<<6|p[A.charCodeAt(e+3)],n[I++]=t>>16&255,n[I++]=t>>8&255,n[I++]=255&t;return 2===o&&(t=p[A.charCodeAt(e)]<<2|p[A.charCodeAt(e+1)]>>4,n[I++]=255&t),1===o&&(t=p[A.charCodeAt(e)]<<10|p[A.charCodeAt(e+1)]<<4|p[A.charCodeAt(e+2)]>>2,n[I++]=t>>8&255,n[I++]=255&t),n},fromByteArray:function(A){for(var t,e=A.length,r=e%3,i=[],o=0,n=e-r;o<n;o+=16383)i.push(_(A,o,o+16383>n?n:o+16383));return 1===r?(t=A[e-1],i.push(l[t>>2]+l[t<<4&63]+"==")):2===r&&(t=(A[e-2]<<8)+A[e-1],i.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),i.join("")}},l=[],p=[],w="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,D=d.length;S<D;++S)l[S]=d[S],p[d.charCodeAt(S)]=S;function b(A){var t=A.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=A.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function _(A,t,e){for(var r,i,o=[],n=t;n<e;n+=3)r=(A[n]<<16&16711680)+(A[n+1]<<8&65280)+(255&A[n+2]),o.push(l[(i=r)>>18&63]+l[i>>12&63]+l[i>>6&63]+l[63&i]);return o.join("")}p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63;var U={read:function(A,t,e,r,i){var o,n,I=8*i-r-1,h=(1<<I)-1,g=h>>1,s=-7,f=e?i-1:0,E=e?-1:1,C=A[t+f];for(f+=E,o=C&(1<<-s)-1,C>>=-s,s+=I;s>0;o=256*o+A[t+f],f+=E,s-=8);for(n=o&(1<<-s)-1,o>>=-s,s+=r;s>0;n=256*n+A[t+f],f+=E,s-=8);if(0===o)o=1-g;else{if(o===h)return n?NaN:1/0*(C?-1:1);n+=Math.pow(2,r),o-=g}return(C?-1:1)*n*Math.pow(2,o-r)},write:function(A,t,e,r,i,o){var n,I,h,g=8*o-i-1,s=(1<<g)-1,f=s>>1,E=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,C=r?0:o-1,a=r?1:-1,c=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(I=isNaN(t)?1:0,n=s):(n=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-n))<1&&(n--,h*=2),(t+=n+f>=1?E/h:E*Math.pow(2,1-f))*h>=2&&(n++,h/=2),n+f>=s?(I=0,n=s):n+f>=1?(I=(t*h-1)*Math.pow(2,i),n+=f):(I=t*Math.pow(2,f-1)*Math.pow(2,i),n=0));i>=8;A[e+C]=255&I,C+=a,I/=256,i-=8);for(n=n<<i|I,g+=i;g>0;A[e+C]=255&n,C+=a,n/=256,g-=8);A[e+C-a]|=128*c}},M={};(function(A){function t(A,t,e,r){return t.bytes=e.bytes=0,{type:A,encode:t,decode:e,encodingLength:r}}function e(t){return A.isBuffer(t)?t.length:A.byteLength(t)}M.make=t,M.name=function(A){for(var t=Object.keys(M),e=0;e<t.length;e++)if(M[t[e]]===A)return t[e];return null},M.skip=function(A,t,e){switch(A){case 0:return B.decode(t,e),e+B.decode.bytes;case 1:return e+8;case 2:var r=B.decode(t,e);return e+B.decode.bytes+r;case 3:case 4:throw new Error("Groups are not supported");case 5:return e+4}throw new Error("Unknown wire type: "+A)},M.bytes=t(2,function t(r,i,o){var n=o,I=e(r);return B.encode(I,i,o),o+=B.encode.bytes,A.isBuffer(r)?r.copy(i,o):i.write(r,o,I),t.bytes=(o+=I)-n,i},function A(t,e){var r=e,i=B.decode(t,e);e+=B.decode.bytes;var o=t.slice(e,e+i);return e+=o.length,A.bytes=e-r,o},function(A){var t=e(A);return B.encodingLength(t)+t}),M.string=t(2,function t(e,r,i){var o=i,n=A.byteLength(e);return B.encode(n,r,i,"utf-8"),i+=B.encode.bytes,r.write(e,i,n),t.bytes=(i+=n)-o,r},function A(t,e){var r=e,i=B.decode(t,e);e+=B.decode.bytes;var o=t.toString("utf-8",e,e+i);return A.bytes=(e+=i)-r,o},function(t){var e=A.byteLength(t);return B.encodingLength(e)+e}),M.bool=t(0,function A(t,e,r){return e[r]=t?1:0,A.bytes=1,e},function A(t,e){var r=t[e]>0;return A.bytes=1,r},function(){return 1}),M.int32=t(0,function A(t,e,r){return B.encode(t<0?t+4294967296:t,e,r),A.bytes=B.encode.bytes,e},function A(t,e){var r=B.decode(t,e);return A.bytes=B.decode.bytes,r>2147483647?r-4294967296:r},function(A){return B.encodingLength(A<0?A+4294967296:A)}),M.int64=t(0,function A(t,e,r){if(t<0){var i=r+9;for(B.encode(-1*t,e,r),e[r+=B.encode.bytes-1]=128|e[r];r<i-1;)e[++r]=255;e[i]=1,A.bytes=10}else B.encode(t,e,r),A.bytes=B.encode.bytes;return e},function t(e,r){var i=B.decode(e,r);if(i>=Math.pow(2,63)){for(var o=9;255===e[r+o-1];)o--;o=o||9;var n=A.allocUnsafe(o);e.copy(n,0,r,r+o),n[o-1]=127&n[o-1],i=-1*B.decode(n,0),t.bytes=10}else t.bytes=B.decode.bytes;return i},function(A){return A<0?10:B.encodingLength(A)}),M.sint32=M.sint64=t(0,u.encode,u.decode,u.encodingLength),M.uint32=M.uint64=M.enum=M.varint=t(0,B.encode,B.decode,B.encodingLength),M.fixed64=M.sfixed64=t(1,function A(t,e,r){return t.copy(e,r),A.bytes=8,e},function A(t,e){var r=t.slice(e,e+8);return A.bytes=8,r},function(){return 8}),M.double=t(1,function A(t,e,r){return e.writeDoubleLE(t,r),A.bytes=8,e},function A(t,e){var r=t.readDoubleLE(e);return A.bytes=8,r},function(){return 8}),M.fixed32=t(5,function A(t,e,r){return e.writeUInt32LE(t,r),A.bytes=4,e},function A(t,e){var r=t.readUInt32LE(e);return A.bytes=4,r},function(){return 4}),M.sfixed32=t(5,function A(t,e,r){return e.writeInt32LE(t,r),A.bytes=4,e},function A(t,e){var r=t.readInt32LE(e);return A.bytes=4,r},function(){return 4}),M.float=t(5,function A(t,e,r){return e.writeFloatLE(t,r),A.bytes=4,e},function A(t,e){var r=t.readFloatLE(e);return A.bytes=4,r},function(){return 4})}).call(this,e({}).Buffer);var F={};(function(A){var t=M.varint,e=M.skip,r=F.VoteMsg={buffer:!0,encodingLength:null,encode:null,decode:null},i=F.IdentityMessage={buffer:!0,encodingLength:null,encode:null,decode:null},o={buffer:!0,encodingLength:null,encode:null,decode:null},n=F.PollMessage={buffer:!0,encodingLength:null,encode:null,decode:null},I={buffer:!0,encodingLength:null,encode:null,decode:null},h={buffer:!0,encodingLength:null,encode:null,decode:null},g={buffer:!0,encodingLength:null,encode:null,decode:null},s=F.PollStatement={buffer:!0,encodingLength:null,encode:null,decode:null};function f(A){return null!=A&&("number"!=typeof A||!isNaN(A))}!function(){function i(A){var t=0;if(!f(A.value))throw new Error("value is required");(t+=1+M.int32.encodingLength(A.value),f(A.geo))&&(t+=1+M.string.encodingLength(A.geo));return t}r.encodingLength=i,r.encode=function t(e,r,o){o||(o=0),r||(r=A.allocUnsafe(i(e)));var n=o;if(!f(e.value))throw new Error("value is required");return r[o++]=8,M.int32.encode(e.value,r,o),o+=M.int32.encode.bytes,f(e.geo)&&(r[o++]=18,M.string.encode(e.geo,r,o),o+=M.string.encode.bytes),t.bytes=o-n,r},r.decode=function A(r,i,o){if(i||(i=0),o||(o=r.length),!(o<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var n=i,I={value:0,geo:""},h=!1;;){if(o<=i){if(!h)throw new Error("Decoded message is not valid");return A.bytes=i-n,I}var g=t.decode(r,i);switch(i+=t.decode.bytes,g>>3){case 1:I.value=M.int32.decode(r,i),i+=M.int32.decode.bytes,h=!0;break;case 2:I.geo=M.string.decode(r,i),i+=M.string.decode.bytes;break;default:i=e(7&g,r,i)}}}}(),function(){function r(A){var e=0;if(!f(A.sig))throw new Error("sig is required");var r=o.encodingLength(A.sig);if(e+=t.encodingLength(r),e+=1+r,!f(A.box))throw new Error("box is required");r=o.encodingLength(A.box);return(e+=t.encodingLength(r))+(1+r)}i.encodingLength=r,i.encode=function e(i,n,I){I||(I=0),n||(n=A.allocUnsafe(r(i)));var h=I;if(!f(i.sig))throw new Error("sig is required");if(n[I++]=10,t.encode(o.encodingLength(i.sig),n,I),I+=t.encode.bytes,o.encode(i.sig,n,I),I+=o.encode.bytes,!f(i.box))throw new Error("box is required");return n[I++]=18,t.encode(o.encodingLength(i.box),n,I),I+=t.encode.bytes,o.encode(i.box,n,I),I+=o.encode.bytes,e.bytes=I-h,n},i.decode=function A(r,i,n){if(i||(i=0),n||(n=r.length),!(n<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var I=i,h={sig:null,box:null},g=!1,s=!1;;){if(n<=i){if(!g||!s)throw new Error("Decoded message is not valid");return A.bytes=i-I,h}var f=t.decode(r,i);switch(i+=t.decode.bytes,f>>3){case 1:var E=t.decode(r,i);i+=t.decode.bytes,h.sig=o.decode(r,i,i+E),i+=o.decode.bytes,g=!0;break;case 2:E=t.decode(r,i);i+=t.decode.bytes,h.box=o.decode(r,i,i+E),i+=o.decode.bytes,s=!0;break;default:i=e(7&f,r,i)}}}}(),function(){function r(A){var t=0;if(!f(A.sk))throw new Error("sk is required");if(t+=1+M.bytes.encodingLength(A.sk),!f(A.pk))throw new Error("pk is required");return t+(1+M.bytes.encodingLength(A.pk))}o.encodingLength=r,o.encode=function t(e,i,o){o||(o=0),i||(i=A.allocUnsafe(r(e)));var n=o;if(!f(e.sk))throw new Error("sk is required");if(i[o++]=10,M.bytes.encode(e.sk,i,o),o+=M.bytes.encode.bytes,!f(e.pk))throw new Error("pk is required");return i[o++]=18,M.bytes.encode(e.pk,i,o),o+=M.bytes.encode.bytes,t.bytes=o-n,i},o.decode=function A(r,i,o){if(i||(i=0),o||(o=r.length),!(o<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var n=i,I={sk:null,pk:null},h=!1,g=!1;;){if(o<=i){if(!h||!g)throw new Error("Decoded message is not valid");return A.bytes=i-n,I}var s=t.decode(r,i);switch(i+=t.decode.bytes,s>>3){case 1:I.sk=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,h=!0;break;case 2:I.pk=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,g=!0;break;default:i=e(7&s,r,i)}}}}(),function(){function r(A){var e=0;if(+f(A.challenge)+ +f(A.ballot)>1)throw new Error("only one of the properties defined in oneof msg can be set");if(f(A.challenge)){var r=I.encodingLength(A.challenge);e+=t.encodingLength(r),e+=1+r}if(f(A.ballot)){r=g.encodingLength(A.ballot);e+=t.encodingLength(r),e+=1+r}return e}n.encodingLength=r,n.encode=function e(i,o,n){n||(n=0),o||(o=A.allocUnsafe(r(i)));var h=n;if(+f(i.challenge)+ +f(i.ballot)>1)throw new Error("only one of the properties defined in oneof msg can be set");return f(i.challenge)&&(o[n++]=10,t.encode(I.encodingLength(i.challenge),o,n),n+=t.encode.bytes,I.encode(i.challenge,o,n),n+=I.encode.bytes),f(i.ballot)&&(o[n++]=18,t.encode(g.encodingLength(i.ballot),o,n),n+=t.encode.bytes,g.encode(i.ballot,o,n),n+=g.encode.bytes),e.bytes=n-h,o},n.decode=function A(r,i,o){if(i||(i=0),o||(o=r.length),!(o<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var n=i,h={challenge:null,ballot:null};;){if(o<=i)return A.bytes=i-n,h;var s=t.decode(r,i);switch(i+=t.decode.bytes,s>>3){case 1:delete h.ballot;var f=t.decode(r,i);i+=t.decode.bytes,h.challenge=I.decode(r,i,i+f),i+=I.decode.bytes;break;case 2:delete h.challenge;f=t.decode(r,i);i+=t.decode.bytes,h.ballot=g.decode(r,i,i+f),i+=g.decode.bytes;break;default:i=e(7&s,r,i)}}}}(),function(){function r(A){var t=0;if(!f(A.version))throw new Error("version is required");if(t+=1+M.varint.encodingLength(A.version),!f(A.box_pk))throw new Error("box_pk is required");(t+=1+M.bytes.encodingLength(A.box_pk),f(A.motion))&&(t+=1+M.string.encodingLength(A.motion));if(f(A.options))for(var e=0;e<A.options.length;e++)if(f(A.options[e])){t+=1+M.string.encodingLength(A.options[e])}f(A.ends_at)&&(t+=1+M.varint.encodingLength(A.ends_at));f(A.motd)&&(t+=1+M.string.encodingLength(A.motd));f(A.extra)&&(t+=1+M.bytes.encodingLength(A.extra));return t}I.encodingLength=r,I.encode=function t(e,i,o){o||(o=0),i||(i=A.allocUnsafe(r(e)));var n=o;if(!f(e.version))throw new Error("version is required");if(i[o++]=8,M.varint.encode(e.version,i,o),o+=M.varint.encode.bytes,!f(e.box_pk))throw new Error("box_pk is required");if(i[o++]=18,M.bytes.encode(e.box_pk,i,o),o+=M.bytes.encode.bytes,f(e.motion)&&(i[o++]=26,M.string.encode(e.motion,i,o),o+=M.string.encode.bytes),f(e.options))for(var I=0;I<e.options.length;I++)f(e.options[I])&&(i[o++]=34,M.string.encode(e.options[I],i,o),o+=M.string.encode.bytes);return f(e.ends_at)&&(i[o++]=40,M.varint.encode(e.ends_at,i,o),o+=M.varint.encode.bytes),f(e.motd)&&(i[o++]=50,M.string.encode(e.motd,i,o),o+=M.string.encode.bytes),f(e.extra)&&(i[o++]=58,M.bytes.encode(e.extra,i,o),o+=M.bytes.encode.bytes),t.bytes=o-n,i},I.decode=function A(r,i,o){if(i||(i=0),o||(o=r.length),!(o<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var n=i,I={version:0,box_pk:null,motion:"",options:[],ends_at:0,motd:"",extra:null},h=!1,g=!1;;){if(o<=i){if(!h||!g)throw new Error("Decoded message is not valid");return A.bytes=i-n,I}var s=t.decode(r,i);switch(i+=t.decode.bytes,s>>3){case 1:I.version=M.varint.decode(r,i),i+=M.varint.decode.bytes,h=!0;break;case 2:I.box_pk=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,g=!0;break;case 3:I.motion=M.string.decode(r,i),i+=M.string.decode.bytes;break;case 4:I.options.push(M.string.decode(r,i)),i+=M.string.decode.bytes;break;case 5:I.ends_at=M.varint.decode(r,i),i+=M.varint.decode.bytes;break;case 6:I.motd=M.string.decode(r,i),i+=M.string.decode.bytes;break;case 7:I.extra=M.bytes.decode(r,i),i+=M.bytes.decode.bytes;break;default:i=e(7&s,r,i)}}}}(),function(){function r(A){var t=0;if(!f(A.value))throw new Error("value is required");(t+=1+M.int32.encodingLength(A.value),f(A.pluscode))&&(t+=1+M.string.encodingLength(A.pluscode));return t}h.encodingLength=r,h.encode=function t(e,i,o){o||(o=0),i||(i=A.allocUnsafe(r(e)));var n=o;if(!f(e.value))throw new Error("value is required");return i[o++]=8,M.int32.encode(e.value,i,o),o+=M.int32.encode.bytes,f(e.pluscode)&&(i[o++]=18,M.string.encode(e.pluscode,i,o),o+=M.string.encode.bytes),t.bytes=o-n,i},h.decode=function A(r,i,o){if(i||(i=0),o||(o=r.length),!(o<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var n=i,I={value:0,pluscode:""},h=!1;;){if(o<=i){if(!h)throw new Error("Decoded message is not valid");return A.bytes=i-n,I}var g=t.decode(r,i);switch(i+=t.decode.bytes,g>>3){case 1:I.value=M.int32.decode(r,i),i+=M.int32.decode.bytes,h=!0;break;case 2:I.pluscode=M.string.decode(r,i),i+=M.string.decode.bytes;break;default:i=e(7&g,r,i)}}}}(),function(){function r(A){var t=0;if(!f(A.box_msg))throw new Error("box_msg is required");if(t+=1+M.bytes.encodingLength(A.box_msg),!f(A.secret_vote))throw new Error("secret_vote is required");if(t+=1+M.bytes.encodingLength(A.secret_vote),!f(A.box_pk))throw new Error("box_pk is required");return t+(1+M.bytes.encodingLength(A.box_pk))}g.encodingLength=r,g.encode=function t(e,i,o){o||(o=0),i||(i=A.allocUnsafe(r(e)));var n=o;if(!f(e.box_msg))throw new Error("box_msg is required");if(i[o++]=10,M.bytes.encode(e.box_msg,i,o),o+=M.bytes.encode.bytes,!f(e.secret_vote))throw new Error("secret_vote is required");if(i[o++]=18,M.bytes.encode(e.secret_vote,i,o),o+=M.bytes.encode.bytes,!f(e.box_pk))throw new Error("box_pk is required");return i[o++]=26,M.bytes.encode(e.box_pk,i,o),o+=M.bytes.encode.bytes,t.bytes=o-n,i},g.decode=function A(r,i,o){if(i||(i=0),o||(o=r.length),!(o<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var n=i,I={box_msg:null,secret_vote:null,box_pk:null},h=!1,g=!1,s=!1;;){if(o<=i){if(!h||!g||!s)throw new Error("Decoded message is not valid");return A.bytes=i-n,I}var f=t.decode(r,i);switch(i+=t.decode.bytes,f>>3){case 1:I.box_msg=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,h=!0;break;case 2:I.secret_vote=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,g=!0;break;case 3:I.box_pk=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,s=!0;break;default:i=e(7&f,r,i)}}}}(),function(){function r(A){var t=0;if(!f(A.vote))throw new Error("vote is required");if(t+=1+M.bytes.encodingLength(A.vote),!f(A.proof))throw new Error("proof is required");return t+(1+M.bytes.encodingLength(A.proof))}s.encodingLength=r,s.encode=function t(e,i,o){o||(o=0),i||(i=A.allocUnsafe(r(e)));var n=o;if(!f(e.vote))throw new Error("vote is required");if(i[o++]=10,M.bytes.encode(e.vote,i,o),o+=M.bytes.encode.bytes,!f(e.proof))throw new Error("proof is required");return i[o++]=18,M.bytes.encode(e.proof,i,o),o+=M.bytes.encode.bytes,t.bytes=o-n,i},s.decode=function A(r,i,o){if(i||(i=0),o||(o=r.length),!(o<=r.length&&i<=r.length))throw new Error("Decoded message is not valid");for(var n=i,I={vote:null,proof:null},h=!1,g=!1;;){if(o<=i){if(!h||!g)throw new Error("Decoded message is not valid");return A.bytes=i-n,I}var s=t.decode(r,i);switch(i+=t.decode.bytes,s>>3){case 1:I.vote=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,h=!0;break;case 2:I.proof=M.bytes.decode(r,i),i+=M.bytes.decode.bytes,g=!0;break;default:i=e(7&s,r,i)}}}}()}).call(this,e({}).Buffer);var Y={};function K(A){if(!K.supported)return null;var t,r=A&&A.imports,i=(t="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","function"==typeof atob?new Uint8Array(atob(t).split("").map(v)):new(e({}).Buffer)(t,"base64")),o=null,n={buffer:i,memory:null,exports:null,realloc:function(A){n.exports.memory.grow(Math.ceil(Math.abs(A-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)},onload:I};return I(function(){}),n;function I(t){if(n.exports)return t();if(o)o.then(t.bind(null,null)).catch(t);else{try{if(A&&A.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(i),r)})}catch(e){o=WebAssembly.instantiate(i,r).then(h)}I(t)}}function h(A){n.exports=A.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function v(A){return A.charCodeAt(0)}Y=K,K.supported="undefined"!=typeof WebAssembly;var m={},k=Y(),x=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),G=144,H=G,T=[];function N(A,t){if(!(this instanceof N))return new N(A,t);if(!A||A.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=k&&k.exports?new L(A,t):new V(A,t)}function L(A,t){T.length||(T.push(G),G+=64),this._pointer=T.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,k.memory.fill(0,this._pointer,this._pointer+8),k.memory.set(A,this._nonce),k.memory.set(t,this._key)}function V(A,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,O(this._s,A,t,x);for(var e=0;e<8;e++)this._z[e]=A[e+16]}function P(A,t,e,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,n=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,I=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,E=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,C=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,a=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&e[16]|(255&e[17])<<8|(255&e[18])<<16|(255&e[19])<<24,B=255&e[20]|(255&e[21])<<8|(255&e[22])<<16|(255&e[23])<<24,u=255&e[24]|(255&e[25])<<8|(255&e[26])<<16|(255&e[27])<<24,Q=255&e[28]|(255&e[29])<<8|(255&e[30])<<16|(255&e[31])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,p=o,w=n,d=I,S=h,D=g,b=s,_=f,U=E,M=C,F=a,Y=c,K=y,v=B,m=u,k=Q,x=l,G=0;G<20;G+=2)p^=(i=(v^=(i=(M^=(i=(D^=(i=p+v|0)<<7|i>>>25)+p|0)<<9|i>>>23)+D|0)<<13|i>>>19)+M|0)<<18|i>>>14,b^=(i=(w^=(i=(m^=(i=(F^=(i=b+w|0)<<7|i>>>25)+b|0)<<9|i>>>23)+F|0)<<13|i>>>19)+m|0)<<18|i>>>14,Y^=(i=(_^=(i=(d^=(i=(k^=(i=Y+_|0)<<7|i>>>25)+Y|0)<<9|i>>>23)+k|0)<<13|i>>>19)+d|0)<<18|i>>>14,x^=(i=(K^=(i=(U^=(i=(S^=(i=x+K|0)<<7|i>>>25)+x|0)<<9|i>>>23)+S|0)<<13|i>>>19)+U|0)<<18|i>>>14,p^=(i=(S^=(i=(d^=(i=(w^=(i=p+S|0)<<7|i>>>25)+p|0)<<9|i>>>23)+w|0)<<13|i>>>19)+d|0)<<18|i>>>14,b^=(i=(D^=(i=(U^=(i=(_^=(i=b+D|0)<<7|i>>>25)+b|0)<<9|i>>>23)+_|0)<<13|i>>>19)+U|0)<<18|i>>>14,Y^=(i=(F^=(i=(M^=(i=(K^=(i=Y+F|0)<<7|i>>>25)+Y|0)<<9|i>>>23)+K|0)<<13|i>>>19)+M|0)<<18|i>>>14,x^=(i=(k^=(i=(m^=(i=(v^=(i=x+k|0)<<7|i>>>25)+x|0)<<9|i>>>23)+v|0)<<13|i>>>19)+m|0)<<18|i>>>14;p=p+o|0,w=w+n|0,d=d+I|0,S=S+h|0,D=D+g|0,b=b+s|0,_=_+f|0,U=U+E|0,M=M+C|0,F=F+a|0,Y=Y+c|0,K=K+y|0,v=v+B|0,m=m+u|0,k=k+Q|0,x=x+l|0,A[0]=p>>>0&255,A[1]=p>>>8&255,A[2]=p>>>16&255,A[3]=p>>>24&255,A[4]=w>>>0&255,A[5]=w>>>8&255,A[6]=w>>>16&255,A[7]=w>>>24&255,A[8]=d>>>0&255,A[9]=d>>>8&255,A[10]=d>>>16&255,A[11]=d>>>24&255,A[12]=S>>>0&255,A[13]=S>>>8&255,A[14]=S>>>16&255,A[15]=S>>>24&255,A[16]=D>>>0&255,A[17]=D>>>8&255,A[18]=D>>>16&255,A[19]=D>>>24&255,A[20]=b>>>0&255,A[21]=b>>>8&255,A[22]=b>>>16&255,A[23]=b>>>24&255,A[24]=_>>>0&255,A[25]=_>>>8&255,A[26]=_>>>16&255,A[27]=_>>>24&255,A[28]=U>>>0&255,A[29]=U>>>8&255,A[30]=U>>>16&255,A[31]=U>>>24&255,A[32]=M>>>0&255,A[33]=M>>>8&255,A[34]=M>>>16&255,A[35]=M>>>24&255,A[36]=F>>>0&255,A[37]=F>>>8&255,A[38]=F>>>16&255,A[39]=F>>>24&255,A[40]=Y>>>0&255,A[41]=Y>>>8&255,A[42]=Y>>>16&255,A[43]=Y>>>24&255,A[44]=K>>>0&255,A[45]=K>>>8&255,A[46]=K>>>16&255,A[47]=K>>>24&255,A[48]=v>>>0&255,A[49]=v>>>8&255,A[50]=v>>>16&255,A[51]=v>>>24&255,A[52]=m>>>0&255,A[53]=m>>>8&255,A[54]=m>>>16&255,A[55]=m>>>24&255,A[56]=k>>>0&255,A[57]=k>>>8&255,A[58]=k>>>16&255,A[59]=k>>>24&255,A[60]=x>>>0&255,A[61]=x>>>8&255,A[62]=x>>>16&255,A[63]=x>>>24&255}function O(A,t,e,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,n=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,I=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,E=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,C=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,a=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&e[16]|(255&e[17])<<8|(255&e[18])<<16|(255&e[19])<<24,B=255&e[20]|(255&e[21])<<8|(255&e[22])<<16|(255&e[23])<<24,u=255&e[24]|(255&e[25])<<8|(255&e[26])<<16|(255&e[27])<<24,Q=255&e[28]|(255&e[29])<<8|(255&e[30])<<16|(255&e[31])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,p=0;p<20;p+=2)o^=(i=(B^=(i=(C^=(i=(g^=(i=o+B|0)<<7|i>>>25)+o|0)<<9|i>>>23)+g|0)<<13|i>>>19)+C|0)<<18|i>>>14,s^=(i=(n^=(i=(u^=(i=(a^=(i=s+n|0)<<7|i>>>25)+s|0)<<9|i>>>23)+a|0)<<13|i>>>19)+u|0)<<18|i>>>14,c^=(i=(f^=(i=(I^=(i=(Q^=(i=c+f|0)<<7|i>>>25)+c|0)<<9|i>>>23)+Q|0)<<13|i>>>19)+I|0)<<18|i>>>14,l^=(i=(y^=(i=(E^=(i=(h^=(i=l+y|0)<<7|i>>>25)+l|0)<<9|i>>>23)+h|0)<<13|i>>>19)+E|0)<<18|i>>>14,o^=(i=(h^=(i=(I^=(i=(n^=(i=o+h|0)<<7|i>>>25)+o|0)<<9|i>>>23)+n|0)<<13|i>>>19)+I|0)<<18|i>>>14,s^=(i=(g^=(i=(E^=(i=(f^=(i=s+g|0)<<7|i>>>25)+s|0)<<9|i>>>23)+f|0)<<13|i>>>19)+E|0)<<18|i>>>14,c^=(i=(a^=(i=(C^=(i=(y^=(i=c+a|0)<<7|i>>>25)+c|0)<<9|i>>>23)+y|0)<<13|i>>>19)+C|0)<<18|i>>>14,l^=(i=(Q^=(i=(u^=(i=(B^=(i=l+Q|0)<<7|i>>>25)+l|0)<<9|i>>>23)+B|0)<<13|i>>>19)+u|0)<<18|i>>>14;A[0]=o>>>0&255,A[1]=o>>>8&255,A[2]=o>>>16&255,A[3]=o>>>24&255,A[4]=s>>>0&255,A[5]=s>>>8&255,A[6]=s>>>16&255,A[7]=s>>>24&255,A[8]=c>>>0&255,A[9]=c>>>8&255,A[10]=c>>>16&255,A[11]=c>>>24&255,A[12]=l>>>0&255,A[13]=l>>>8&255,A[14]=l>>>16&255,A[15]=l>>>24&255,A[16]=f>>>0&255,A[17]=f>>>8&255,A[18]=f>>>16&255,A[19]=f>>>24&255,A[20]=E>>>0&255,A[21]=E>>>8&255,A[22]=E>>>16&255,A[23]=E>>>24&255,A[24]=C>>>0&255,A[25]=C>>>8&255,A[26]=C>>>16&255,A[27]=C>>>24&255,A[28]=a>>>0&255,A[29]=a>>>8&255,A[30]=a>>>16&255,A[31]=a>>>24&255}m=N,N.NONCEBYTES=24,N.KEYBYTES=32,N.core_hsalsa20=O,N.SIGMA=x,N.prototype.update=function(A,t){if(!A)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(A.length)),A.length&&this._xor.update(A,t),t},N.prototype.final=N.prototype.finalize=function(){this._xor.finalize(),this._xor=null},L.prototype.update=function(A,t){var e=this._overflow+A.length,r=G+this._overflow;(H=G+e)>=k.memory.length&&k.realloc(H),k.memory.set(A,r),k.exports.xsalsa20_xor(this._pointer,G,G,e,this._nonce,this._key),t.set(k.memory.subarray(r,G+e)),this._overflow=63&e},L.prototype.finalize=function(){k.memory.fill(0,this._pointer,this._key+32),H>G&&(k.memory.fill(0,G,H),H=0),T.push(this._pointer)},V.prototype.update=function(A,t){for(var e=new Uint8Array(64),r=0,i=this._overflow,o=A.length+this._overflow,n=this._z,I=-this._overflow,h=-this._overflow;o>=64;){for(P(e,n,this._s,x);i<64;i++)t[h+i]=A[I+i]^e[i];for(r=1,i=8;i<16;i++)r+=255&n[i]|0,n[i]=255&r,r>>>=8;o-=64,h+=64,I+=64,i=0}if(o>0)for(P(e,n,this._s,x);i<o;i++)t[h+i]=A[I+i]^e[i];this._overflow=63&o},V.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};function R(A,t){if(!A)throw new Error(t||"AssertionError")}R.notEqual=function(A,t,e){},R.notOk=function(A,t){},R.equal=function(A,t,e){},R.ok=R;var J={};function q(A){if(!q.supported)return null;var t,r=A&&A.imports,i=(t="AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL","function"==typeof atob?new Uint8Array(atob(t).split("").map(X)):new(e({}).Buffer)(t,"base64")),o=null,n={buffer:i,memory:null,exports:null,realloc:function(A){n.exports.memory.grow(Math.ceil(Math.abs(A-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)},onload:I};return I(function(){}),n;function I(t){if(n.exports)return t();if(o)o.then(t.bind(null,null)).catch(t);else{try{if(A&&A.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(i),r)})}catch(e){o=WebAssembly.instantiate(i,r).then(h)}I(t)}}function h(A){n.exports=A.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function X(A){return A.charCodeAt(0)}J=q,q.supported="undefined"!=typeof WebAssembly;var W={},z=J(),j=64,Z=[];function $(A,t,e,r,i){if(!(this instanceof $))return new $(A,t,e,r,i);if(!z||!z.exports)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");A||(A=32),Z.length||(Z.push(j),j+=216),this.digestLength=A,this.finalized=!1,this.pointer=Z.pop(),z.memory.fill(0,0,64),z.memory[0]=this.digestLength,z.memory[1]=t?t.length:0,z.memory[2]=1,z.memory[3]=1,e&&z.memory.set(e,32),r&&z.memory.set(r,48),this.pointer+216>z.memory.length&&z.realloc(this.pointer+216),z.exports.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),z.memory.fill(0,j,j+t.length),z.memory[this.pointer+200]=128)}function AA(){}(W=$).BYTES_MIN=16,W.BYTES_MAX=64,W.BYTES=32,W.KEYBYTES_MIN=16,W.KEYBYTES_MAX=64,W.KEYBYTES=32,W.SALTBYTES=16,W.PERSONALBYTES=16,$.prototype.update=function(A){return j+A.length>z.memory.length&&z.realloc(j+A.length),z.memory.set(A,j),z.exports.blake2b_update(this.pointer,j,j+A.length),this},$.prototype.digest=function(A){if(this.finalized=!0,Z.push(this.pointer),z.exports.blake2b_final(this.pointer),!A||"binary"===A)return z.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("hex"===A)return function(A,t,e){for(var r="",i=0;i<e;i++)r+=(o=A[t+i])<16?"0"+o.toString(16):o.toString(16);var o;return r}(z.memory,this.pointer+128,this.digestLength);for(var t=0;t<this.digestLength;t++)A[t]=z.memory[this.pointer+128+t];return A},$.prototype.final=$.prototype.digest,$.WASM=z&&z.buffer,$.SUPPORTED="undefined"!=typeof WebAssembly,$.ready=function(A){return A||(A=AA),z?new Promise(function(t,e){z.onload(function(r){r?e():t(),A(r)})}):A(new Error("WebAssembly not supported"))},$.prototype.ready=$.ready;var tA;function eA(A,t,e){var r=A[t]+A[e],i=A[t+1]+A[e+1];r>=4294967296&&i++,A[t]=r,A[t+1]=i}function rA(A,t,e,r){var i=A[t]+e;e<0&&(i+=4294967296);var o=A[t+1]+r;i>=4294967296&&o++,A[t]=i,A[t+1]=o}function iA(A,t){return A[t]^A[t+1]<<8^A[t+2]<<16^A[t+3]<<24}function oA(A,t,e,r,i,o){var n=gA[i],I=gA[i+1],h=gA[o],g=gA[o+1];eA(hA,A,t),rA(hA,A,n,I);var s=hA[r]^hA[A],f=hA[r+1]^hA[A+1];hA[r]=f,hA[r+1]=s,eA(hA,e,r),s=hA[t]^hA[e],f=hA[t+1]^hA[e+1],hA[t]=s>>>24^f<<8,hA[t+1]=f>>>24^s<<8,eA(hA,A,t),rA(hA,A,h,g),s=hA[r]^hA[A],f=hA[r+1]^hA[A+1],hA[r]=s>>>16^f<<16,hA[r+1]=f>>>16^s<<16,eA(hA,e,r),s=hA[t]^hA[e],f=hA[t+1]^hA[e+1],hA[t]=f>>>31^s<<1,hA[t+1]=s>>>31^f<<1}var nA=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),IA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(A){return 2*A})),hA=new Uint32Array(32),gA=new Uint32Array(32);function sA(A,t){var e=0;for(e=0;e<16;e++)hA[e]=A.h[e],hA[e+16]=nA[e];for(hA[24]=hA[24]^A.t,hA[25]=hA[25]^A.t/4294967296,t&&(hA[28]=~hA[28],hA[29]=~hA[29]),e=0;e<32;e++)gA[e]=iA(A.b,4*e);for(e=0;e<12;e++)oA(0,8,16,24,IA[16*e+0],IA[16*e+1]),oA(2,10,18,26,IA[16*e+2],IA[16*e+3]),oA(4,12,20,28,IA[16*e+4],IA[16*e+5]),oA(6,14,22,30,IA[16*e+6],IA[16*e+7]),oA(0,10,20,30,IA[16*e+8],IA[16*e+9]),oA(2,12,22,24,IA[16*e+10],IA[16*e+11]),oA(4,14,16,26,IA[16*e+12],IA[16*e+13]),oA(6,8,18,28,IA[16*e+14],IA[16*e+15]);for(e=0;e<16;e++)A.h[e]=A.h[e]^hA[e]^hA[e+16]}var fA=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function EA(A,t,e,r){fA.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=A,fA[0]=A,t&&(fA[1]=t.length),fA[2]=1,fA[3]=1,e&&fA.set(e,32),r&&fA.set(r,48);for(var i=0;i<16;i++)this.h[i]=nA[i]^iA(fA,4*i);t&&(CA(this,t),this.c=128)}function CA(A,t){for(var e=0;e<t.length;e++)128===A.c&&(A.t+=A.c,sA(A,!1),A.c=0),A.b[A.c++]=t[e]}EA.prototype.update=function(A){return CA(this,A),this},EA.prototype.digest=function(A){var t=A&&"binary"!==A&&"hex"!==A?A:new Uint8Array(this.outlen);return function(A,t){for(A.t+=A.c;A.c<128;)A.b[A.c++]=0;sA(A,!0);for(var e=0;e<A.outlen;e++)t[e]=A.h[e>>2]>>8*(3&e)}(this,t),"hex"===A?function(A){for(var t="",e=0;e<A.length;e++)t+=(r=A[e])<16?"0"+r.toString(16):r.toString(16);var r;return t}(t):t},EA.prototype.final=EA.prototype.digest,EA.ready=function(A){W.ready(function(){A()})};var aA=EA;(tA=function(A,t,e,r,i){return new aA(A,t,e,r)}).ready=function(A){W.ready(function(){A()})},tA.WASM_SUPPORTED=W.SUPPORTED,tA.WASM_LOADED=!1,tA.BYTES_MIN=16,tA.BYTES_MAX=64,tA.BYTES=32,tA.KEYBYTES_MIN=16,tA.KEYBYTES_MAX=64,tA.KEYBYTES=32,tA.SALTBYTES=16,tA.PERSONALBYTES=16,W.ready(function(A){A||(tA.WASM_LOADED=!0,aA=W)});var cA={crypto_generichash_PRIMITIVE:"blake2b"};cA.crypto_generichash_BYTES_MIN=tA.BYTES_MIN,cA.crypto_generichash_BYTES_MAX=tA.BYTES_MAX,cA.crypto_generichash_BYTES=tA.BYTES,cA.crypto_generichash_KEYBYTES_MIN=tA.KEYBYTES_MIN,cA.crypto_generichash_KEYBYTES_MAX=tA.KEYBYTES_MAX,cA.crypto_generichash_KEYBYTES=tA.KEYBYTES,cA.crypto_generichash_WASM_SUPPORTED=tA.WASM_SUPPORTED,cA.crypto_generichash_WASM_LOADED=!1,cA.crypto_generichash=function(A,t,e){tA(A.length,e).update(t).final(A)},cA.crypto_generichash_ready=tA.ready,cA.crypto_generichash_batch=function(A,t,e){for(var r=tA(A.length,e),i=0;i<t.length;i++)r.update(t[i]);r.final(A)},cA.crypto_generichash_instance=function(A,t){return null==t&&(t=cA.crypto_generichash_BYTES),tA(t,A)},tA.ready(function(A){cA.crypto_generichash_WASM_LOADED=tA.WASM_LOADED});var yA={},BA={};(function(A){var t,e=(t=void 0!==A?t=A.crypto||A.msCrypto:null)&&t.getRandomValues?function(A,e){for(var r=0;r<e;r+=65536)t.getRandomValues(A.subarray(r,r+Math.min(e-r,65536)))}:(t=yA)&&t.randomBytes?function(A,e){A.set(t.randomBytes(e))}:function(){throw new Error("No secure random number generator available")};Object.defineProperty(BA,"randombytes",{value:e}),BA.randombytes_buf=function(A){e(A,A.length)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var uA={},QA=BA.randombytes_buf;uA.crypto_kdf_PRIMITIVE="blake2b",uA.crypto_kdf_BYTES_MIN=16,uA.crypto_kdf_BYTES_MAX=64,uA.crypto_kdf_CONTEXTBYTES=8,uA.crypto_kdf_KEYBYTES=32,uA.crypto_kdf_derive_from_key=function(A,t,e,r){var i=new Uint8Array(tA.PERSONALBYTES),o=new Uint8Array(tA.SALTBYTES);i.set(e,0,uA.crypto_kdf_CONTEXTBYTES),function(A,t){var e=1,r=0;for(A[0]=255&t;++r<8&&(e*=256);)A[r]=t/e&255}(o,t);var n=Math.min(A.length,uA.crypto_kdf_BYTES_MAX);tA(n,r.subarray(0,uA.crypto_kdf_KEYBYTES),o,i).final(A)},uA.crypto_kdf_keygen=function(A){QA(A.subarray(0,uA.crypto_kdf_KEYBYTES))};var lA={};function pA(A){if(!pA.supported)return null;var t,r=A&&A.imports,i=(t="AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=","function"==typeof atob?new Uint8Array(atob(t).split("").map(wA)):new(e({}).Buffer)(t,"base64")),o=null,n={buffer:i,memory:null,exports:null,realloc:function(A){n.exports.memory.grow(Math.max(0,Math.ceil(Math.abs(A-n.memory.length)/65536))),n.memory=new Uint8Array(n.exports.memory.buffer)},onload:I};return I(function(){}),n;function I(t){if(n.exports)return t();if(o)o.then(t.bind(null,null)).catch(t);else{try{if(A&&A.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(i),r)})}catch(e){o=WebAssembly.instantiate(i,r).then(h)}I(t)}}function h(A){n.exports=A.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function wA(A){return A.charCodeAt(0)}function dA(A,t){var e=A.l+t.l,r={h:A.h+t.h+(e/2>>>31)>>>0,l:e>>>0};A.h=r.h,A.l=r.l}function SA(A,t){A.h^=t.h,A.h>>>=0,A.l^=t.l,A.l>>>=0}function DA(A,t){var e={h:A.h<<t|A.l>>>32-t,l:A.l<<t|A.h>>>32-t};A.h=e.h,A.l=e.l}function bA(A){var t=A.l;A.l=A.h,A.h=t}function _A(A,t,e,r){dA(A,t),dA(e,r),DA(t,13),DA(r,16),SA(t,A),SA(r,e),bA(A),dA(e,t),dA(A,r),DA(t,17),DA(r,21),SA(t,e),SA(r,A),bA(e)}function UA(A,t){return A[t+3]<<24|A[t+2]<<16|A[t+1]<<8|A[t]}lA=pA,pA.supported="undefined"!=typeof WebAssembly;var MA=function(A,t,e){var r,i={h:UA(e,4),l:UA(e,0)},o={h:UA(e,12),l:UA(e,8)},n={h:i.h,l:i.l},I=i,h={h:o.h,l:o.l},g=o,s=0,f=t.length,E=f-7,C=new Uint8Array(new ArrayBuffer(8));for(SA(n,{h:1936682341,l:1886610805}),SA(h,{h:1685025377,l:1852075885}),SA(I,{h:1819895653,l:1852142177}),SA(g,{h:1952801890,l:2037671283});s<E;)SA(g,r={h:UA(t,s+4),l:UA(t,s)}),_A(n,h,I,g),_A(n,h,I,g),SA(n,r),s+=8;C[7]=f;for(var a=0;s<f;)C[a++]=t[s++];for(;a<7;)C[a++]=0;SA(g,r={h:C[7]<<24|C[6]<<16|C[5]<<8|C[4],l:C[3]<<24|C[2]<<16|C[1]<<8|C[0]}),_A(n,h,I,g),_A(n,h,I,g),SA(n,r),SA(I,{h:0,l:255}),_A(n,h,I,g),_A(n,h,I,g),_A(n,h,I,g),_A(n,h,I,g);var c=n;SA(c,h),SA(c,I),SA(c,g),A[0]=255&c.l,A[1]=c.l>>8&255,A[2]=c.l>>16&255,A[3]=c.l>>24&255,A[4]=255&c.h,A[5]=c.h>>8&255,A[6]=c.h>>16&255,A[7]=c.h>>24&255},FA=KA;KA.BYTES=8,KA.KEYBYTES=16;var YA=lA();function KA(A,t,e,r){return e||(e=new Uint8Array(8)),YA&&YA.exports?(A.length+24>YA.memory.length&&YA.realloc(A.length+24),YA.memory.set(t,8),YA.memory.set(A,24),YA.exports.siphash(24,A.length),e.set(YA.memory.subarray(0,8))):MA(e,A,t),e}KA.WASM_SUPPORTED="undefined"!=typeof WebAssembly,KA.WASM_LOADED=!1,YA&&YA.onload(function(A){KA.WASM_LOADED=!A});var vA={crypto_shorthash_PRIMITIVE:"siphash24"};vA.crypto_shorthash_BYTES=FA.BYTES,vA.crypto_shorthash_KEYBYTES=FA.KEYBYTES,vA.crypto_shorthash_WASM_SUPPORTED=FA.WASM_SUPPORTED,vA.crypto_shorthash_WASM_LOADED=FA.WASM_LOADED,vA.crypto_shorthash=function(A,t,e,r){FA(t,e,A,r)};var mA={};function kA(A,t){this._instance=m(A,t)}mA.crypto_stream_KEYBYTES=32,mA.crypto_stream_NONCEBYTES=24,mA.crypto_stream_PRIMITIVE="xsalsa20",mA.crypto_stream=function(A,t,e){A.fill(0),mA.crypto_stream_xor(A,A,t,e)},mA.crypto_stream_xor=function(A,t,e,r){var i=m(e,r);i.update(t,A),i.final()},mA.crypto_stream_xor_instance=function(A,t){return new kA(A,t)},kA.prototype.update=function(A,t){this._instance.update(t,A)},kA.prototype.final=function(){this._instance.finalize(),this._instance=null};var xA={},GA=xA,HA=function(A){var t,e=new Float64Array(16);if(A)for(t=0;t<A.length;t++)e[t]=A[t];return e},TA=BA.randombytes,NA=(new Uint8Array(16),new Uint8Array(32));NA[0]=9;var LA=HA(),VA=HA([1]),PA=HA([56129,1]),OA=HA([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),RA=HA([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),JA=HA([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),qA=HA([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),XA=HA([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function WA(A,t,e,r){A[t]=e>>24&255,A[t+1]=e>>16&255,A[t+2]=e>>8&255,A[t+3]=255&e,A[t+4]=r>>24&255,A[t+5]=r>>16&255,A[t+6]=r>>8&255,A[t+7]=255&r}function zA(A,t,e,r,i){var o,n=0;for(o=0;o<i;o++)n|=A[t+o]^e[r+o];return(1&n-1>>>8)-1}function jA(A,t,e,r){return zA(A,t,e,r,32)}var ZA=function(A){var t,e,r,i,o,n,I,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&A[0]|(255&A[1])<<8,this.r[0]=8191&t,e=255&A[2]|(255&A[3])<<8,this.r[1]=8191&(t>>>13|e<<3),r=255&A[4]|(255&A[5])<<8,this.r[2]=7939&(e>>>10|r<<6),i=255&A[6]|(255&A[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&A[8]|(255&A[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,n=255&A[10]|(255&A[11])<<8,this.r[6]=8191&(o>>>14|n<<2),I=255&A[12]|(255&A[13])<<8,this.r[7]=8065&(n>>>11|I<<5),h=255&A[14]|(255&A[15])<<8,this.r[8]=8191&(I>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&A[16]|(255&A[17])<<8,this.pad[1]=255&A[18]|(255&A[19])<<8,this.pad[2]=255&A[20]|(255&A[21])<<8,this.pad[3]=255&A[22]|(255&A[23])<<8,this.pad[4]=255&A[24]|(255&A[25])<<8,this.pad[5]=255&A[26]|(255&A[27])<<8,this.pad[6]=255&A[28]|(255&A[29])<<8,this.pad[7]=255&A[30]|(255&A[31])<<8};function $A(A,t,e,r,i,o,n){mA.crypto_stream_xor(A,e,o,n)}function At(A,t,e,r,i,o){var n=new ZA(o);return n.update(e,r,i),n.finish(A,t),0}function tt(A,t,e,r,i){var o,n=new Uint8Array(32);if(e<32)return-1;if(function(A,t,e,r,i){mA.crypto_stream(A,r,i)}(n,0,0,r,i),0!==function(A,t,e,r,i,o){var n=new Uint8Array(16);return At(n,0,e,r,i,o),zA(A,t,n,0,16)}(t,16,t,32,e-32,n))return-1;for($A(A,0,t,0,0,r,i),o=0;o<32;o++)A[o]=0;return 0}function et(A,t){var e;for(e=0;e<16;e++)A[e]=0|t[e]}function rt(A){var t,e,r=1;for(t=0;t<16;t++)e=A[t]+r+65535,r=Math.floor(e/65536),A[t]=e-65536*r;A[0]+=r-1+37*(r-1)}function it(A,t,e){for(var r,i=~(e-1),o=0;o<16;o++)r=i&(A[o]^t[o]),A[o]^=r,t[o]^=r}function ot(A,t){var e,r,i,o=HA(),n=HA();for(e=0;e<16;e++)n[e]=t[e];for(rt(n),rt(n),rt(n),r=0;r<2;r++){for(o[0]=n[0]-65517,e=1;e<15;e++)o[e]=n[e]-65535-(o[e-1]>>16&1),o[e-1]&=65535;o[15]=n[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,it(n,o,1-i)}for(e=0;e<16;e++)A[2*e]=255&n[e],A[2*e+1]=n[e]>>8}function nt(A,t){var e=new Uint8Array(32),r=new Uint8Array(32);return ot(e,A),ot(r,t),jA(e,0,r,0)}function It(A){var t=new Uint8Array(32);return ot(t,A),1&t[0]}function ht(A,t){var e;for(e=0;e<16;e++)A[e]=t[2*e]+(t[2*e+1]<<8);A[15]&=32767}function gt(A,t,e){for(var r=0;r<16;r++)A[r]=t[r]+e[r]}function st(A,t,e){for(var r=0;r<16;r++)A[r]=t[r]-e[r]}function ft(A,t,e){var r,i,o=0,n=0,I=0,h=0,g=0,s=0,f=0,E=0,C=0,a=0,c=0,y=0,B=0,u=0,Q=0,l=0,p=0,w=0,d=0,S=0,D=0,b=0,_=0,U=0,M=0,F=0,Y=0,K=0,v=0,m=0,k=0,x=e[0],G=e[1],H=e[2],T=e[3],N=e[4],L=e[5],V=e[6],P=e[7],O=e[8],R=e[9],J=e[10],q=e[11],X=e[12],W=e[13],z=e[14],j=e[15];o+=(r=t[0])*x,n+=r*G,I+=r*H,h+=r*T,g+=r*N,s+=r*L,f+=r*V,E+=r*P,C+=r*O,a+=r*R,c+=r*J,y+=r*q,B+=r*X,u+=r*W,Q+=r*z,l+=r*j,n+=(r=t[1])*x,I+=r*G,h+=r*H,g+=r*T,s+=r*N,f+=r*L,E+=r*V,C+=r*P,a+=r*O,c+=r*R,y+=r*J,B+=r*q,u+=r*X,Q+=r*W,l+=r*z,p+=r*j,I+=(r=t[2])*x,h+=r*G,g+=r*H,s+=r*T,f+=r*N,E+=r*L,C+=r*V,a+=r*P,c+=r*O,y+=r*R,B+=r*J,u+=r*q,Q+=r*X,l+=r*W,p+=r*z,w+=r*j,h+=(r=t[3])*x,g+=r*G,s+=r*H,f+=r*T,E+=r*N,C+=r*L,a+=r*V,c+=r*P,y+=r*O,B+=r*R,u+=r*J,Q+=r*q,l+=r*X,p+=r*W,w+=r*z,d+=r*j,g+=(r=t[4])*x,s+=r*G,f+=r*H,E+=r*T,C+=r*N,a+=r*L,c+=r*V,y+=r*P,B+=r*O,u+=r*R,Q+=r*J,l+=r*q,p+=r*X,w+=r*W,d+=r*z,S+=r*j,s+=(r=t[5])*x,f+=r*G,E+=r*H,C+=r*T,a+=r*N,c+=r*L,y+=r*V,B+=r*P,u+=r*O,Q+=r*R,l+=r*J,p+=r*q,w+=r*X,d+=r*W,S+=r*z,D+=r*j,f+=(r=t[6])*x,E+=r*G,C+=r*H,a+=r*T,c+=r*N,y+=r*L,B+=r*V,u+=r*P,Q+=r*O,l+=r*R,p+=r*J,w+=r*q,d+=r*X,S+=r*W,D+=r*z,b+=r*j,E+=(r=t[7])*x,C+=r*G,a+=r*H,c+=r*T,y+=r*N,B+=r*L,u+=r*V,Q+=r*P,l+=r*O,p+=r*R,w+=r*J,d+=r*q,S+=r*X,D+=r*W,b+=r*z,_+=r*j,C+=(r=t[8])*x,a+=r*G,c+=r*H,y+=r*T,B+=r*N,u+=r*L,Q+=r*V,l+=r*P,p+=r*O,w+=r*R,d+=r*J,S+=r*q,D+=r*X,b+=r*W,_+=r*z,U+=r*j,a+=(r=t[9])*x,c+=r*G,y+=r*H,B+=r*T,u+=r*N,Q+=r*L,l+=r*V,p+=r*P,w+=r*O,d+=r*R,S+=r*J,D+=r*q,b+=r*X,_+=r*W,U+=r*z,M+=r*j,c+=(r=t[10])*x,y+=r*G,B+=r*H,u+=r*T,Q+=r*N,l+=r*L,p+=r*V,w+=r*P,d+=r*O,S+=r*R,D+=r*J,b+=r*q,_+=r*X,U+=r*W,M+=r*z,F+=r*j,y+=(r=t[11])*x,B+=r*G,u+=r*H,Q+=r*T,l+=r*N,p+=r*L,w+=r*V,d+=r*P,S+=r*O,D+=r*R,b+=r*J,_+=r*q,U+=r*X,M+=r*W,F+=r*z,Y+=r*j,B+=(r=t[12])*x,u+=r*G,Q+=r*H,l+=r*T,p+=r*N,w+=r*L,d+=r*V,S+=r*P,D+=r*O,b+=r*R,_+=r*J,U+=r*q,M+=r*X,F+=r*W,Y+=r*z,K+=r*j,u+=(r=t[13])*x,Q+=r*G,l+=r*H,p+=r*T,w+=r*N,d+=r*L,S+=r*V,D+=r*P,b+=r*O,_+=r*R,U+=r*J,M+=r*q,F+=r*X,Y+=r*W,K+=r*z,v+=r*j,Q+=(r=t[14])*x,l+=r*G,p+=r*H,w+=r*T,d+=r*N,S+=r*L,D+=r*V,b+=r*P,_+=r*O,U+=r*R,M+=r*J,F+=r*q,Y+=r*X,K+=r*W,v+=r*z,m+=r*j,l+=(r=t[15])*x,n+=38*(w+=r*H),I+=38*(d+=r*T),h+=38*(S+=r*N),g+=38*(D+=r*L),s+=38*(b+=r*V),f+=38*(_+=r*P),E+=38*(U+=r*O),C+=38*(M+=r*R),a+=38*(F+=r*J),c+=38*(Y+=r*q),y+=38*(K+=r*X),B+=38*(v+=r*W),u+=38*(m+=r*z),Q+=38*(k+=r*j),o=(r=(o+=38*(p+=r*G))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),n=(r=n+i+65535)-65536*(i=Math.floor(r/65536)),I=(r=I+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),B=(r=B+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),Q=(r=Q+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),n=(r=n+i+65535)-65536*(i=Math.floor(r/65536)),I=(r=I+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),B=(r=B+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),Q=(r=Q+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),A[0]=o,A[1]=n,A[2]=I,A[3]=h,A[4]=g,A[5]=s,A[6]=f,A[7]=E,A[8]=C,A[9]=a,A[10]=c,A[11]=y,A[12]=B,A[13]=u,A[14]=Q,A[15]=l}function Et(A,t){ft(A,t,t)}function Ct(A,t){var e,r=HA();for(e=0;e<16;e++)r[e]=t[e];for(e=253;e>=0;e--)Et(r,r),2!==e&&4!==e&&ft(r,r,t);for(e=0;e<16;e++)A[e]=r[e]}function at(A,t,e){Rt(A,Gt),Rt(t,Ht),Rt(e,Gt);var r,i,o=new Uint8Array(32),n=new Float64Array(80),I=HA(),h=HA(),g=HA(),s=HA(),f=HA(),E=HA();for(i=0;i<31;i++)o[i]=t[i];for(o[31]=127&t[31]|64,o[0]&=248,ht(n,e),i=0;i<16;i++)h[i]=n[i],s[i]=I[i]=g[i]=0;for(I[0]=s[0]=1,i=254;i>=0;--i)it(I,h,r=o[i>>>3]>>>(7&i)&1),it(g,s,r),gt(f,I,g),st(I,I,g),gt(g,h,s),st(h,h,s),Et(s,f),Et(E,I),ft(I,g,I),ft(g,h,f),gt(f,I,g),st(I,I,g),Et(h,I),st(g,s,E),ft(I,g,PA),gt(I,I,s),ft(g,g,I),ft(I,s,E),ft(s,h,n),Et(h,f),it(I,h,r),it(g,s,r);for(i=0;i<16;i++)n[i+16]=I[i],n[i+32]=g[i],n[i+48]=h[i],n[i+64]=s[i];var C=n.subarray(32),a=n.subarray(16);return Ct(C,C),ft(a,a,C),ot(A,a),0}function ct(A,t){return at(A,t,NA)}ZA.prototype.blocks=function(A,t,e){for(var r,i,o,n,I,h,g,s,f,E,C,a,c,y,B,u,Q,l,p,w=this.fin?0:2048,d=this.h[0],S=this.h[1],D=this.h[2],b=this.h[3],_=this.h[4],U=this.h[5],M=this.h[6],F=this.h[7],Y=this.h[8],K=this.h[9],v=this.r[0],m=this.r[1],k=this.r[2],x=this.r[3],G=this.r[4],H=this.r[5],T=this.r[6],N=this.r[7],L=this.r[8],V=this.r[9];e>=16;)E=f=0,E+=(d+=8191&(r=255&A[t+0]|(255&A[t+1])<<8))*v,E+=(S+=8191&(r>>>13|(i=255&A[t+2]|(255&A[t+3])<<8)<<3))*(5*V),E+=(D+=8191&(i>>>10|(o=255&A[t+4]|(255&A[t+5])<<8)<<6))*(5*L),E+=(b+=8191&(o>>>7|(n=255&A[t+6]|(255&A[t+7])<<8)<<9))*(5*N),f=(E+=(_+=8191&(n>>>4|(I=255&A[t+8]|(255&A[t+9])<<8)<<12))*(5*T))>>>13,E&=8191,E+=(U+=I>>>1&8191)*(5*H),E+=(M+=8191&(I>>>14|(h=255&A[t+10]|(255&A[t+11])<<8)<<2))*(5*G),E+=(F+=8191&(h>>>11|(g=255&A[t+12]|(255&A[t+13])<<8)<<5))*(5*x),E+=(Y+=8191&(g>>>8|(s=255&A[t+14]|(255&A[t+15])<<8)<<8))*(5*k),C=f+=(E+=(K+=s>>>5|w)*(5*m))>>>13,C+=d*m,C+=S*v,C+=D*(5*V),C+=b*(5*L),f=(C+=_*(5*N))>>>13,C&=8191,C+=U*(5*T),C+=M*(5*H),C+=F*(5*G),C+=Y*(5*x),f+=(C+=K*(5*k))>>>13,C&=8191,a=f,a+=d*k,a+=S*m,a+=D*v,a+=b*(5*V),f=(a+=_*(5*L))>>>13,a&=8191,a+=U*(5*N),a+=M*(5*T),a+=F*(5*H),a+=Y*(5*G),c=f+=(a+=K*(5*x))>>>13,c+=d*x,c+=S*k,c+=D*m,c+=b*v,f=(c+=_*(5*V))>>>13,c&=8191,c+=U*(5*L),c+=M*(5*N),c+=F*(5*T),c+=Y*(5*H),y=f+=(c+=K*(5*G))>>>13,y+=d*G,y+=S*x,y+=D*k,y+=b*m,f=(y+=_*v)>>>13,y&=8191,y+=U*(5*V),y+=M*(5*L),y+=F*(5*N),y+=Y*(5*T),B=f+=(y+=K*(5*H))>>>13,B+=d*H,B+=S*G,B+=D*x,B+=b*k,f=(B+=_*m)>>>13,B&=8191,B+=U*v,B+=M*(5*V),B+=F*(5*L),B+=Y*(5*N),u=f+=(B+=K*(5*T))>>>13,u+=d*T,u+=S*H,u+=D*G,u+=b*x,f=(u+=_*k)>>>13,u&=8191,u+=U*m,u+=M*v,u+=F*(5*V),u+=Y*(5*L),Q=f+=(u+=K*(5*N))>>>13,Q+=d*N,Q+=S*T,Q+=D*H,Q+=b*G,f=(Q+=_*x)>>>13,Q&=8191,Q+=U*k,Q+=M*m,Q+=F*v,Q+=Y*(5*V),l=f+=(Q+=K*(5*L))>>>13,l+=d*L,l+=S*N,l+=D*T,l+=b*H,f=(l+=_*G)>>>13,l&=8191,l+=U*x,l+=M*k,l+=F*m,l+=Y*v,p=f+=(l+=K*(5*V))>>>13,p+=d*V,p+=S*L,p+=D*N,p+=b*T,f=(p+=_*H)>>>13,p&=8191,p+=U*G,p+=M*x,p+=F*k,p+=Y*m,d=E=8191&(f=(f=((f+=(p+=K*v)>>>13)<<2)+f|0)+(E&=8191)|0),S=C+=f>>>=13,D=a&=8191,b=c&=8191,_=y&=8191,U=B&=8191,M=u&=8191,F=Q&=8191,Y=l&=8191,K=p&=8191,t+=16,e-=16;this.h[0]=d,this.h[1]=S,this.h[2]=D,this.h[3]=b,this.h[4]=_,this.h[5]=U,this.h[6]=M,this.h[7]=F,this.h[8]=Y,this.h[9]=K},ZA.prototype.finish=function(A,t){var e,r,i,o,n=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(e=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=e,e=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*e,e=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=e,e=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=e,n[0]=this.h[0]+5,e=n[0]>>>13,n[0]&=8191,o=1;o<10;o++)n[o]=this.h[o]+e,e=n[o]>>>13,n[o]&=8191;for(n[9]-=8192,r=(1^e)-1,o=0;o<10;o++)n[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|n[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;A[t+0]=this.h[0]>>>0&255,A[t+1]=this.h[0]>>>8&255,A[t+2]=this.h[1]>>>0&255,A[t+3]=this.h[1]>>>8&255,A[t+4]=this.h[2]>>>0&255,A[t+5]=this.h[2]>>>8&255,A[t+6]=this.h[3]>>>0&255,A[t+7]=this.h[3]>>>8&255,A[t+8]=this.h[4]>>>0&255,A[t+9]=this.h[4]>>>8&255,A[t+10]=this.h[5]>>>0&255,A[t+11]=this.h[5]>>>8&255,A[t+12]=this.h[6]>>>0&255,A[t+13]=this.h[6]>>>8&255,A[t+14]=this.h[7]>>>0&255,A[t+15]=this.h[7]>>>8&255},ZA.prototype.update=function(A,t,e){var r,i;if(this.leftover){for((i=16-this.leftover)>e&&(i=e),r=0;r<i;r++)this.buffer[this.leftover+r]=A[t+r];if(e-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(e>=16&&(i=e-e%16,this.blocks(A,t,i),t+=i,e-=i),e){for(r=0;r<e;r++)this.buffer[this.leftover+r]=A[t+r];this.leftover+=e}};var yt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Bt(A,t,e,r){for(var i,o,n,I,h,g,s,f,E,C,a,c,y,B,u,Q,l,p,w,d,S,D,b,_,U,M,F=new Int32Array(16),Y=new Int32Array(16),K=A[0],v=A[1],m=A[2],k=A[3],x=A[4],G=A[5],H=A[6],T=A[7],N=t[0],L=t[1],V=t[2],P=t[3],O=t[4],R=t[5],J=t[6],q=t[7],X=0;r>=128;){for(w=0;w<16;w++)d=8*w+X,F[w]=e[d+0]<<24|e[d+1]<<16|e[d+2]<<8|e[d+3],Y[w]=e[d+4]<<24|e[d+5]<<16|e[d+6]<<8|e[d+7];for(w=0;w<80;w++)if(i=K,o=v,n=m,I=k,h=x,g=G,s=H,E=N,C=L,a=V,c=P,y=O,B=R,u=J,b=65535&(D=q),_=D>>>16,U=65535&(S=T),M=S>>>16,b+=65535&(D=(O>>>14|x<<18)^(O>>>18|x<<14)^(x>>>9|O<<23)),_+=D>>>16,U+=65535&(S=(x>>>14|O<<18)^(x>>>18|O<<14)^(O>>>9|x<<23)),M+=S>>>16,b+=65535&(D=O&R^~O&J),_+=D>>>16,U+=65535&(S=x&G^~x&H),M+=S>>>16,S=yt[2*w],b+=65535&(D=yt[2*w+1]),_+=D>>>16,U+=65535&S,M+=S>>>16,S=F[w%16],_+=(D=Y[w%16])>>>16,U+=65535&S,M+=S>>>16,U+=(_+=(b+=65535&D)>>>16)>>>16,b=65535&(D=p=65535&b|_<<16),_=D>>>16,U=65535&(S=l=65535&U|(M+=U>>>16)<<16),M=S>>>16,b+=65535&(D=(N>>>28|K<<4)^(K>>>2|N<<30)^(K>>>7|N<<25)),_+=D>>>16,U+=65535&(S=(K>>>28|N<<4)^(N>>>2|K<<30)^(N>>>7|K<<25)),M+=S>>>16,_+=(D=N&L^N&V^L&V)>>>16,U+=65535&(S=K&v^K&m^v&m),M+=S>>>16,f=65535&(U+=(_+=(b+=65535&D)>>>16)>>>16)|(M+=U>>>16)<<16,Q=65535&b|_<<16,b=65535&(D=c),_=D>>>16,U=65535&(S=I),M=S>>>16,_+=(D=p)>>>16,U+=65535&(S=l),M+=S>>>16,v=i,m=o,k=n,x=I=65535&(U+=(_+=(b+=65535&D)>>>16)>>>16)|(M+=U>>>16)<<16,G=h,H=g,T=s,K=f,L=E,V=C,P=a,O=c=65535&b|_<<16,R=y,J=B,q=u,N=Q,w%16==15)for(d=0;d<16;d++)S=F[d],b=65535&(D=Y[d]),_=D>>>16,U=65535&S,M=S>>>16,S=F[(d+9)%16],b+=65535&(D=Y[(d+9)%16]),_+=D>>>16,U+=65535&S,M+=S>>>16,l=F[(d+1)%16],b+=65535&(D=((p=Y[(d+1)%16])>>>1|l<<31)^(p>>>8|l<<24)^(p>>>7|l<<25)),_+=D>>>16,U+=65535&(S=(l>>>1|p<<31)^(l>>>8|p<<24)^l>>>7),M+=S>>>16,l=F[(d+14)%16],_+=(D=((p=Y[(d+14)%16])>>>19|l<<13)^(l>>>29|p<<3)^(p>>>6|l<<26))>>>16,U+=65535&(S=(l>>>19|p<<13)^(p>>>29|l<<3)^l>>>6),M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,F[d]=65535&U|M<<16,Y[d]=65535&b|_<<16;b=65535&(D=N),_=D>>>16,U=65535&(S=K),M=S>>>16,S=A[0],_+=(D=t[0])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[0]=K=65535&U|M<<16,t[0]=N=65535&b|_<<16,b=65535&(D=L),_=D>>>16,U=65535&(S=v),M=S>>>16,S=A[1],_+=(D=t[1])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[1]=v=65535&U|M<<16,t[1]=L=65535&b|_<<16,b=65535&(D=V),_=D>>>16,U=65535&(S=m),M=S>>>16,S=A[2],_+=(D=t[2])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[2]=m=65535&U|M<<16,t[2]=V=65535&b|_<<16,b=65535&(D=P),_=D>>>16,U=65535&(S=k),M=S>>>16,S=A[3],_+=(D=t[3])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[3]=k=65535&U|M<<16,t[3]=P=65535&b|_<<16,b=65535&(D=O),_=D>>>16,U=65535&(S=x),M=S>>>16,S=A[4],_+=(D=t[4])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[4]=x=65535&U|M<<16,t[4]=O=65535&b|_<<16,b=65535&(D=R),_=D>>>16,U=65535&(S=G),M=S>>>16,S=A[5],_+=(D=t[5])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[5]=G=65535&U|M<<16,t[5]=R=65535&b|_<<16,b=65535&(D=J),_=D>>>16,U=65535&(S=H),M=S>>>16,S=A[6],_+=(D=t[6])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[6]=H=65535&U|M<<16,t[6]=J=65535&b|_<<16,b=65535&(D=q),_=D>>>16,U=65535&(S=T),M=S>>>16,S=A[7],_+=(D=t[7])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[7]=T=65535&U|M<<16,t[7]=q=65535&b|_<<16,X+=128,r-=128}return r}function ut(A,t,e){var r,i=new Int32Array(8),o=new Int32Array(8),n=new Uint8Array(256),I=e;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Bt(i,o,t,e),e%=128,r=0;r<e;r++)n[r]=t[I-e+r];for(n[e]=128,n[(e=256-128*(e<112?1:0))-9]=0,WA(n,e-8,I/536870912|0,I<<3),Bt(i,o,n,e),r=0;r<8;r++)WA(A,8*r,i[r],o[r]);return 0}function Qt(A,t){var e=HA(),r=HA(),i=HA(),o=HA(),n=HA(),I=HA(),h=HA(),g=HA(),s=HA();st(e,A[1],A[0]),st(s,t[1],t[0]),ft(e,e,s),gt(r,A[0],A[1]),gt(s,t[0],t[1]),ft(r,r,s),ft(i,A[3],t[3]),ft(i,i,RA),ft(o,A[2],t[2]),gt(o,o,o),st(n,r,e),st(I,o,i),gt(h,o,i),gt(g,r,e),ft(A[0],n,I),ft(A[1],g,h),ft(A[2],h,I),ft(A[3],n,g)}function lt(A,t,e){var r;for(r=0;r<4;r++)it(A[r],t[r],e)}function pt(A,t){var e=HA(),r=HA(),i=HA();Ct(i,t[2]),ft(e,t[0],i),ft(r,t[1],i),ot(A,r),A[31]^=It(e)<<7}function wt(A,t,e){var r,i;for(et(A[0],LA),et(A[1],VA),et(A[2],VA),et(A[3],LA),i=255;i>=0;--i)lt(A,t,r=e[i/8|0]>>(7&i)&1),Qt(t,A),Qt(A,A),lt(A,t,r)}function dt(A,t){var e=[HA(),HA(),HA(),HA()];et(e[0],JA),et(e[1],qA),et(e[2],VA),ft(e[3],JA,qA),wt(A,e,t)}function St(A,t,e){Rt(A,GA.crypto_sign_PUBLICKEYBYTES),Rt(t,GA.crypto_sign_SECRETKEYBYTES);var r,i=new Uint8Array(64),o=[HA(),HA(),HA(),HA()];for(e||TA(t,32),ut(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,dt(o,i),pt(A,o),r=0;r<32;r++)t[r+32]=A[r];return 0}var Dt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function bt(A,t){var e,r,i,o;for(r=63;r>=32;--r){for(e=0,i=r-32,o=r-12;i<o;++i)t[i]+=e-16*t[r]*Dt[i-(r-32)],e=t[i]+128>>8,t[i]-=256*e;t[i]+=e,t[r]=0}for(e=0,i=0;i<32;i++)t[i]+=e-(t[31]>>4)*Dt[i],e=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=e*Dt[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,A[r]=255&t[r]}function _t(A){var t,e=new Float64Array(64);for(t=0;t<64;t++)e[t]=A[t];for(t=0;t<64;t++)A[t]=0;bt(A,e)}function Ut(A,t,e){Rt(A,Vt+t.length),Rt(t,0),Rt(e,Ot);var r,i,o=t.length,n=new Uint8Array(64),I=new Uint8Array(64),h=new Uint8Array(64),g=new Float64Array(64),s=[HA(),HA(),HA(),HA()];for(ut(n,e,32),n[0]&=248,n[31]&=127,n[31]|=64,r=0;r<o;r++)A[64+r]=t[r];for(r=0;r<32;r++)A[32+r]=n[32+r];for(ut(h,A.subarray(32),o+32),_t(h),dt(s,h),pt(A,s),r=32;r<64;r++)A[r]=e[r];for(ut(I,A,o+64),_t(I),r=0;r<64;r++)g[r]=0;for(r=0;r<32;r++)g[r]=h[r];for(r=0;r<32;r++)for(i=0;i<32;i++)g[r+i]+=I[r]*n[i];bt(A.subarray(32),g)}function Mt(A,t,e){Rt(A,t.length-Vt),Rt(t,Vt),Rt(e,Pt);var r,i=t.length,o=new Uint8Array(t.length),n=new Uint8Array(32),I=new Uint8Array(64),h=[HA(),HA(),HA(),HA()],g=[HA(),HA(),HA(),HA()];if(i<64)return!1;if(function(A,t){var e=HA(),r=HA(),i=HA(),o=HA(),n=HA(),I=HA(),h=HA();return et(A[2],VA),ht(A[1],t),Et(i,A[1]),ft(o,i,OA),st(i,i,A[2]),gt(o,A[2],o),Et(n,o),Et(I,n),ft(h,I,n),ft(e,h,i),ft(e,e,o),function(A,t){var e,r=HA();for(e=0;e<16;e++)r[e]=t[e];for(e=250;e>=0;e--)Et(r,r),1!==e&&ft(r,r,t);for(e=0;e<16;e++)A[e]=r[e]}(e,e),ft(e,e,i),ft(e,e,o),ft(e,e,o),ft(A[0],e,o),Et(r,A[0]),ft(r,r,o),nt(r,i)&&ft(A[0],A[0],XA),Et(r,A[0]),ft(r,r,o),nt(r,i)?-1:(It(A[0])===t[31]>>7&&st(A[0],LA,A[0]),ft(A[3],A[0],A[1]),0)}(g,e))return!1;for(r=0;r<i;r++)o[r]=t[r];for(r=0;r<32;r++)o[r+32]=e[r];if(ut(I,o,i),_t(I),wt(h,g,I),dt(g,t.subarray(32)),Qt(h,g),pt(n,h),i-=64,jA(t,0,n,0)){for(r=0;r<i;r++)o[r]=0;return!1}for(r=0;r<i;r++)A[r]=t[r+64];return!0}function Ft(A,t,e,r){var i;Rt(t,0),Rt(A,t.length+GA.crypto_secretbox_MACBYTES),Rt(e,mt),Rt(r,vt);var o=new Uint8Array(kt+t.length),n=new Uint8Array(o.length);for(i=0;i<t.length;i++)o[i+kt]=t[i];for(function(A,t,e,r,i){var o;if(e<32)return-1;for($A(A,0,t,0,0,r,i),At(A,16,A,32,e-32,A),o=0;o<16;o++)A[o]=0}(n,o,o.length,e,r),i=xt;i<n.length;i++)A[i-xt]=n[i]}function Yt(A,t,e,r){var i;Rt(t,GA.crypto_secretbox_MACBYTES),Rt(A,t.length-GA.crypto_secretbox_MACBYTES),Rt(e,mt),Rt(r,vt);var o=new Uint8Array(xt+t.length),n=new Uint8Array(o.length);for(i=0;i<t.length;i++)o[i+xt]=t[i];if(o.length<32)return!1;if(0!==tt(n,o,o.length,e,r))return!1;for(i=kt;i<n.length;i++)A[i-kt]=n[i];return!0}function Kt(A,t){return Rt(A,Tt),Rt(t,Nt),TA(t,32),ct(A,t)}var vt=32,mt=24,kt=32,xt=16,Gt=32,Ht=32,Tt=32,Nt=32,Lt=mt,Vt=(32,64),Pt=32,Ot=64;function Rt(A,t){if(!A||t&&A.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function Jt(A){Object.keys(A).forEach(function(t){xA[t]=A[t]})}GA.memzero=function(A,t){for(var e=t;e<A;e++)arr[e]=0},GA.crypto_sign_BYTES=Vt,GA.crypto_sign_PUBLICKEYBYTES=Pt,GA.crypto_sign_SECRETKEYBYTES=Ot,GA.crypto_sign_SEEDBYTES=32,GA.crypto_sign_keypair=St,GA.crypto_sign_seed_keypair=function(A,t,e){Rt(e,GA.crypto_sign_SEEDBYTES),e.copy(t),St(A,t,!0)},GA.crypto_sign=Ut,GA.crypto_sign_open=Mt,GA.crypto_sign_detached=function(A,t,e){var r=new Uint8Array(t.length+Vt);Ut(r,t,e);for(var i=0;i<Vt;i++)A[i]=r[i]},GA.crypto_sign_verify_detached=function(A,t,e){Rt(A,Vt);var r=new Uint8Array(t.length+Vt),i=0;for(i=0;i<Vt;i++)r[i]=A[i];for(i=0;i<t.length;i++)r[i+Vt]=t[i];return Mt(t,r,e)},Jt(cA),Jt(uA),Jt(vA),Jt(BA),Jt(mA),GA.crypto_scalarmult_BYTES=Gt,GA.crypto_scalarmult_SCALARBYTES=Ht,GA.crypto_scalarmult_base=ct,GA.crypto_scalarmult=at,GA.crypto_secretbox_KEYBYTES=vt,GA.crypto_secretbox_NONCEBYTES=mt,GA.crypto_secretbox_MACBYTES=16,GA.crypto_secretbox_easy=Ft,GA.crypto_secretbox_open_easy=Yt,GA.crypto_secretbox_detached=function(A,t,e,r,i){Rt(t,GA.crypto_secretbox_MACBYTES);var o=new Uint8Array(e.length+t.length);Ft(o,e,r,i),A.set(o.subarray(0,e.length)),t.set(o.subarray(e.length))},GA.crypto_secretbox_open_detached=function(A,t,e,r,i){Rt(e,GA.crypto_secretbox_MACBYTES);var o=new Uint8Array(t.length+e.length);return o.set(t),o.set(e,A.length),Yt(A,o,r,i)},GA.crypto_box_PUBLICKEYBYTES=Tt,GA.crypto_box_SECRETKEYBYTES=Nt,GA.crypto_box_SEALBYTES=48,GA.crypto_box_BEFORENMBYTES=32,GA.crypto_box_keypair=Kt,GA.crypto_box_seal=function(A,t,e){Rt(A,48+t.length),Rt(e,Tt);var r=A.subarray(0,Tt),i=new Uint8Array(Nt);Kt(r,i);var o=new Uint8Array(Lt);GA.crypto_generichash_batch(o,[r,e]);var n=new Uint8Array(Tt);at(n,i,e);var I=new Uint8Array(32),h=new Uint8Array(16);m.core_hsalsa20(I,h,n,m.SIGMA),Ft(A.subarray(r.length),t,o,I),function(A){for(var t=0;t<A.length;t++)A[t]=0}(i)},GA.crypto_box_seal_open=function(A,t,e,r){Rt(t,48),Rt(A,t.length-48),Rt(e,Tt),Rt(r,Nt);var i=t.subarray(0,Tt),o=new Uint8Array(Lt);GA.crypto_generichash_batch(o,[i,e]);var n=new Uint8Array(Tt);at(n,r,i);var I=new Uint8Array(32),h=new Uint8Array(16);return m.core_hsalsa20(I,h,n,m.SIGMA),Yt(A,t.subarray(i.length),o,I)},GA.sodium_malloc=function(A){return new Uint8Array(A)};var qt=xA,Xt={};(function(A){function t(A){if("object"==typeof A&&A&&A.encode&&A.decode)return A;switch(A){case"ndjson":return t.ndjson;case"json":return t.json;case"ascii":return t.ascii;case"utf-8":case"utf8":return t.utf8;case"hex":return t.hex;case"base64":return t.base64;case"ucs-2":case"ucs2":return t.ucs2;case"utf16-le":case"utf16le":return t.utf16le}return t.binary}function e(t){return{encode:t?function(t){return A.from(JSON.stringify(t)+"\n")}:function(t){return A.from(JSON.stringify(t))},decode:function(A){return JSON.parse(A.toString())}}}function r(t){return{encode:function(e){return"string"!=typeof e&&(e=e.toString()),A.from(e,t)},decode:function(A){return A.toString(t)}}}Xt=t,t.ascii=r("ascii"),t.utf8=r("utf-8"),t.hex=r("hex"),t.base64=r("base64"),t.ucs2=r("ucs2"),t.utf16le=r("utf16le"),t.ndjson=e(!0),t.json=e(!1),t.binary={encode:function(t){return"string"==typeof t?A.from(t,"utf-8"):t},decode:function(A){return A}}}).call(this,e({}).Buffer);var Wt={exports:{}};(function(A){class t{static get MAX_FEED_SIZE(){return 65536}static get INITIAL_FEED_SIZE(){return 1024}static get PICKLE(){return A.from("PIC0FD")}static get KEY(){return A.from("SPKEY")}static get BLOCK(){return A.from("BLOCK")}static get SIGNATURE_SIZE(){return qt.crypto_sign_BYTES}static get COUNTER_SIZE(){return 4}static get META_SIZE(){return 2*t.SIGNATURE_SIZE+t.COUNTER_SIZE}get tip(){throw new Error("The tip was a lie")}constructor(e=null,r={}){e&&!A.isBuffer(e)&&"string"!=typeof e&&(r=e,e=null),this.tail=0,this._lastBlockOffset=0;const i=r.contentEncoding||"utf8";this.encoding=Xt("json"===i?"ndjson":i),this.secretKey=r.secretKey||null,this.secretKey&&(this.key=this.secretKey.slice(32)),e?A.isBuffer(e)?this.buf=e:(this.buf=A.alloc(t.INITIAL_FEED_SIZE),this._unpack(e)):(this.key||(this.secretKey=A.allocUnsafe(qt.crypto_sign_SECRETKEYBYTES),this.key=A.allocUnsafe(qt.crypto_sign_PUBLICKEYBYTES),qt.crypto_sign_keypair(this.key,this.secretKey)),this.buf=A.alloc(t.INITIAL_FEED_SIZE),this.appendKey(this.key))}appendKey(A){this.tail||(this.key=A),this.tail+=t.KEY.copy(this.buf,this.tail),this.tail+=A.copy(this.buf,this.tail)}get free(){return t.MAX_FEED_SIZE-this.tail}static dstructBlock(A,e=0){const r=t.SIGNATURE_SIZE,i=t.COUNTER_SIZE,o=r+i,n={get start(){return e},get sig(){return A.subarray(e,e+r)},get header(){return A.subarray(e+r,e+r+o)},get parentSig(){return A.subarray(e+r,e+r+r)},get size(){return A.readUInt32BE(e+2*r)},set size(t){if("number"!=typeof t||t<0||t+e+r+o>A.length)throw new Error("Invalid blob size");return A.writeUInt32BE(t,e+2*r)},get body(){return A.subarray(e+r+o,n.safeEnd)},get dat(){return A.subarray(e+r,n.safeEnd)},get end(){return e+r+o+n.size},get safeEnd(){const t=n.size;if(t<1)throw new Error("Invalid blob size: "+t);const i=e+r+o+t;if(i>=A.length)throw new Error("Incomplete or invalid block: end overflows buffer length"+i);return i},get next(){return t.dstructBlock(A,n.safeEnd)},verify:A=>qt.crypto_sign_verify_detached(n.sig,n.dat,A),pack:()=>A.subarray(e,n.safeEnd).toString("base64").replace(/=+$/,"")};return n}_ensureKey(A){for(const t of this.keys)if(A.equals(t))return;this.appendKey(A)}get lastBlock(){if(this._lastBlockOffset)return t.dstructBlock(this.buf,this._lastBlockOffset)}append(e,r,i){if("function"==typeof r)return this.append(e,null,r);const o=r||this.secretKey;if(!o)throw new Error("Not Author nor Guest, feed READONLY cannot append");if(64!==o.length)throw new Error("Unknown signature sekret key format");const n=o.slice(32);this._ensureKey(n);const I=t.META_SIZE,h=this.lastBlock,g=this.encoding.encode(e),s=g.length,f=this.tail+s+I;if(t.MAX_FEED_SIZE<f)throw console.error("NOFIT",this.tail,s,I),new Error("MAX_FEED_SIZE reached, block won't fit:"+f);if(this.buf.length<f){console.info("Increasing backing buffer to new size:",f);const t=A.allocUnsafe(f);this.buf.copy(t),this.buf=t}const E=t.dstructBlock(this.buf,this.tail);if(E.header.fill(0),E.size=s,g.copy(E.body),h&&h.sig.copy(E.parentSig),qt.crypto_sign_detached(E.sig,E.dat,o||this.secretKey),!o&&!E.verify(this.key))throw new Error("newly stored block is invalid. something went wrong");return this._lastBlockOffset=this.tail,this.tail=f,"function"==typeof i&&i(null,this.length),this.length}*_index(){let e=0;const r=[],i=t.KEY;let o=null,n=0;for(;;){if(e>=this.tail)return;if(e+i.length>this.buf.length)return;if(i.equals(this.buf.slice(e,e+i.length))){const A=this.buf.slice(e+i.length,e+i.length+32);if(!r.length&&!this.key.equals(A))throw new Error("first key in feed must equal identity of feed.");yield{type:0,id:r.length,key:A,offset:e},r.push(A),e+=i.length+32}else{const i=t.dstructBlock(this.buf,e);if(0===i.size)return;if(e+i.size>this.buf.length)return;if(!n&&!i.parentSig.equals(A.alloc(64)))return;if(n&&!o.equals(i.parentSig))return;let I=!1;for(let A=r.length-1;A>=0;A--)if(I=i.verify(r[A])){yield{type:1,id:n++,block:i,offset:e},o=i.sig,e=i.end;break}if(!I)return}}}get length(){let A=0;for(const{type:t}of this._index())t&&A++;return A}toString(){return this.pickle()}pickle(){let A=encodeURI(t.PICKLE);const e=encodeURI(t.KEY),r=encodeURI(t.BLOCK);for(const t of this._index())A+=t.type?r+encodeURIComponent(t.block.pack()):e+encodeURIComponent(t.key.toString("base64").replace(/=+$/,""));return A}_unpack(e){if(!e)throw new Error("Missing first argument");if("string"!=typeof e)throw new Error("url-encoded string expected");const r=encodeURI(t.PICKLE),i=encodeURI(t.KEY),o=encodeURI(t.BLOCK);if(!e.startsWith(r))throw new Error("NotPickleError");let n=r.length,I=0,h=0,g=-1,s=-1;const f=()=>{if(-1!==g){const t=decodeURIComponent(e.substr(s,n-s-h-I+1));if(g)this._lastBlockOffset=this.tail,this.tail+=A.from(t,"base64").copy(this.buf,this.tail);else{const e=A.from(t,"base64");if(32!==e.length)throw new Error("PSIG key wrong size: ");this.appendKey(e)}g=-1}s=n+1,g=I?0:1,I=h=0};for(;n<e.length;)e[n]===i[I]?++I===i.length&&f():I=0,e[n]===o[h]?++h===o.length&&f():h=0,n++;f()}get(A){if(A<0)throw new Error("Positive integer expected");for(const{type:t,block:e}of this._index())if(t&&!A--)return this.encoding.decode(e.body);throw new Error("NotFoundError")}truncateAfter(A){const t=this.tail;A++;for(const{type:e,block:r}of this._index()){if(e&&!--A){this.tail=r.end,this._lastBlockOffset=r.start;break}if(A<0)break}return t!==this.tail}get keys(){const A=this._index();return function*(){for(const{type:t,key:e}of A)t||(yield e)}()}get blocks(){const A=this._index();return function*(){for(const{type:t,block:e}of A)t&&(yield e)}()}}Wt&&(Wt.exports=t)}).call(this,e({}).Buffer),Wt=Wt.exports;var zt={};function jt(A){if(!jt.supported)return null;var t,r=A&&A.imports,i=(t="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","function"==typeof atob?new Uint8Array(atob(t).split("").map(Zt)):new(e({}).Buffer)(t,"base64")),o=null,n={buffer:i,memory:null,exports:null,realloc:function(A){n.exports.memory.grow(Math.ceil(Math.abs(A-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)},onload:I};return I(function(){}),n;function I(t){if(n.exports)return t();if(o)o.then(t.bind(null,null)).catch(t);else{try{if(A&&A.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(i),r)})}catch(e){o=WebAssembly.instantiate(i,r).then(h)}I(t)}}function h(A){n.exports=A.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function Zt(A){return A.charCodeAt(0)}zt=jt,jt.supported="undefined"!=typeof WebAssembly;var $t={},Ae=zt(),te=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),ee=144,re=ee,ie=[];function oe(A,t){if(!(this instanceof oe))return new oe(A,t);if(!A||A.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=Ae&&Ae.exports?new ne(A,t):new Ie(A,t)}function ne(A,t){ie.length||(ie.push(ee),ee+=64),this._pointer=ie.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,Ae.memory.fill(0,this._pointer,this._pointer+8),Ae.memory.set(A,this._nonce),Ae.memory.set(t,this._key)}function Ie(A,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,ge(this._s,A,t,te);for(var e=0;e<8;e++)this._z[e]=A[e+16]}function he(A,t,e,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,n=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,I=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,E=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,C=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,a=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&e[16]|(255&e[17])<<8|(255&e[18])<<16|(255&e[19])<<24,B=255&e[20]|(255&e[21])<<8|(255&e[22])<<16|(255&e[23])<<24,u=255&e[24]|(255&e[25])<<8|(255&e[26])<<16|(255&e[27])<<24,Q=255&e[28]|(255&e[29])<<8|(255&e[30])<<16|(255&e[31])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,p=o,w=n,d=I,S=h,D=g,b=s,_=f,U=E,M=C,F=a,Y=c,K=y,v=B,m=u,k=Q,x=l,G=0;G<20;G+=2)p^=(i=(v^=(i=(M^=(i=(D^=(i=p+v|0)<<7|i>>>25)+p|0)<<9|i>>>23)+D|0)<<13|i>>>19)+M|0)<<18|i>>>14,b^=(i=(w^=(i=(m^=(i=(F^=(i=b+w|0)<<7|i>>>25)+b|0)<<9|i>>>23)+F|0)<<13|i>>>19)+m|0)<<18|i>>>14,Y^=(i=(_^=(i=(d^=(i=(k^=(i=Y+_|0)<<7|i>>>25)+Y|0)<<9|i>>>23)+k|0)<<13|i>>>19)+d|0)<<18|i>>>14,x^=(i=(K^=(i=(U^=(i=(S^=(i=x+K|0)<<7|i>>>25)+x|0)<<9|i>>>23)+S|0)<<13|i>>>19)+U|0)<<18|i>>>14,p^=(i=(S^=(i=(d^=(i=(w^=(i=p+S|0)<<7|i>>>25)+p|0)<<9|i>>>23)+w|0)<<13|i>>>19)+d|0)<<18|i>>>14,b^=(i=(D^=(i=(U^=(i=(_^=(i=b+D|0)<<7|i>>>25)+b|0)<<9|i>>>23)+_|0)<<13|i>>>19)+U|0)<<18|i>>>14,Y^=(i=(F^=(i=(M^=(i=(K^=(i=Y+F|0)<<7|i>>>25)+Y|0)<<9|i>>>23)+K|0)<<13|i>>>19)+M|0)<<18|i>>>14,x^=(i=(k^=(i=(m^=(i=(v^=(i=x+k|0)<<7|i>>>25)+x|0)<<9|i>>>23)+v|0)<<13|i>>>19)+m|0)<<18|i>>>14;p=p+o|0,w=w+n|0,d=d+I|0,S=S+h|0,D=D+g|0,b=b+s|0,_=_+f|0,U=U+E|0,M=M+C|0,F=F+a|0,Y=Y+c|0,K=K+y|0,v=v+B|0,m=m+u|0,k=k+Q|0,x=x+l|0,A[0]=p>>>0&255,A[1]=p>>>8&255,A[2]=p>>>16&255,A[3]=p>>>24&255,A[4]=w>>>0&255,A[5]=w>>>8&255,A[6]=w>>>16&255,A[7]=w>>>24&255,A[8]=d>>>0&255,A[9]=d>>>8&255,A[10]=d>>>16&255,A[11]=d>>>24&255,A[12]=S>>>0&255,A[13]=S>>>8&255,A[14]=S>>>16&255,A[15]=S>>>24&255,A[16]=D>>>0&255,A[17]=D>>>8&255,A[18]=D>>>16&255,A[19]=D>>>24&255,A[20]=b>>>0&255,A[21]=b>>>8&255,A[22]=b>>>16&255,A[23]=b>>>24&255,A[24]=_>>>0&255,A[25]=_>>>8&255,A[26]=_>>>16&255,A[27]=_>>>24&255,A[28]=U>>>0&255,A[29]=U>>>8&255,A[30]=U>>>16&255,A[31]=U>>>24&255,A[32]=M>>>0&255,A[33]=M>>>8&255,A[34]=M>>>16&255,A[35]=M>>>24&255,A[36]=F>>>0&255,A[37]=F>>>8&255,A[38]=F>>>16&255,A[39]=F>>>24&255,A[40]=Y>>>0&255,A[41]=Y>>>8&255,A[42]=Y>>>16&255,A[43]=Y>>>24&255,A[44]=K>>>0&255,A[45]=K>>>8&255,A[46]=K>>>16&255,A[47]=K>>>24&255,A[48]=v>>>0&255,A[49]=v>>>8&255,A[50]=v>>>16&255,A[51]=v>>>24&255,A[52]=m>>>0&255,A[53]=m>>>8&255,A[54]=m>>>16&255,A[55]=m>>>24&255,A[56]=k>>>0&255,A[57]=k>>>8&255,A[58]=k>>>16&255,A[59]=k>>>24&255,A[60]=x>>>0&255,A[61]=x>>>8&255,A[62]=x>>>16&255,A[63]=x>>>24&255}function ge(A,t,e,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,n=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,I=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,E=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,C=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,a=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&e[16]|(255&e[17])<<8|(255&e[18])<<16|(255&e[19])<<24,B=255&e[20]|(255&e[21])<<8|(255&e[22])<<16|(255&e[23])<<24,u=255&e[24]|(255&e[25])<<8|(255&e[26])<<16|(255&e[27])<<24,Q=255&e[28]|(255&e[29])<<8|(255&e[30])<<16|(255&e[31])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,p=0;p<20;p+=2)o^=(i=(B^=(i=(C^=(i=(g^=(i=o+B|0)<<7|i>>>25)+o|0)<<9|i>>>23)+g|0)<<13|i>>>19)+C|0)<<18|i>>>14,s^=(i=(n^=(i=(u^=(i=(a^=(i=s+n|0)<<7|i>>>25)+s|0)<<9|i>>>23)+a|0)<<13|i>>>19)+u|0)<<18|i>>>14,c^=(i=(f^=(i=(I^=(i=(Q^=(i=c+f|0)<<7|i>>>25)+c|0)<<9|i>>>23)+Q|0)<<13|i>>>19)+I|0)<<18|i>>>14,l^=(i=(y^=(i=(E^=(i=(h^=(i=l+y|0)<<7|i>>>25)+l|0)<<9|i>>>23)+h|0)<<13|i>>>19)+E|0)<<18|i>>>14,o^=(i=(h^=(i=(I^=(i=(n^=(i=o+h|0)<<7|i>>>25)+o|0)<<9|i>>>23)+n|0)<<13|i>>>19)+I|0)<<18|i>>>14,s^=(i=(g^=(i=(E^=(i=(f^=(i=s+g|0)<<7|i>>>25)+s|0)<<9|i>>>23)+f|0)<<13|i>>>19)+E|0)<<18|i>>>14,c^=(i=(a^=(i=(C^=(i=(y^=(i=c+a|0)<<7|i>>>25)+c|0)<<9|i>>>23)+y|0)<<13|i>>>19)+C|0)<<18|i>>>14,l^=(i=(Q^=(i=(u^=(i=(B^=(i=l+Q|0)<<7|i>>>25)+l|0)<<9|i>>>23)+B|0)<<13|i>>>19)+u|0)<<18|i>>>14;A[0]=o>>>0&255,A[1]=o>>>8&255,A[2]=o>>>16&255,A[3]=o>>>24&255,A[4]=s>>>0&255,A[5]=s>>>8&255,A[6]=s>>>16&255,A[7]=s>>>24&255,A[8]=c>>>0&255,A[9]=c>>>8&255,A[10]=c>>>16&255,A[11]=c>>>24&255,A[12]=l>>>0&255,A[13]=l>>>8&255,A[14]=l>>>16&255,A[15]=l>>>24&255,A[16]=f>>>0&255,A[17]=f>>>8&255,A[18]=f>>>16&255,A[19]=f>>>24&255,A[20]=E>>>0&255,A[21]=E>>>8&255,A[22]=E>>>16&255,A[23]=E>>>24&255,A[24]=C>>>0&255,A[25]=C>>>8&255,A[26]=C>>>16&255,A[27]=C>>>24&255,A[28]=a>>>0&255,A[29]=a>>>8&255,A[30]=a>>>16&255,A[31]=a>>>24&255}$t=oe,oe.NONCEBYTES=24,oe.KEYBYTES=32,oe.core_hsalsa20=ge,oe.SIGMA=te,oe.prototype.update=function(A,t){if(!A)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(A.length)),A.length&&this._xor.update(A,t),t},oe.prototype.final=oe.prototype.finalize=function(){this._xor.finalize(),this._xor=null},ne.prototype.update=function(A,t){var e=this._overflow+A.length,r=ee+this._overflow;(re=ee+e)>=Ae.memory.length&&Ae.realloc(re),Ae.memory.set(A,r),Ae.exports.xsalsa20_xor(this._pointer,ee,ee,e,this._nonce,this._key),t.set(Ae.memory.subarray(r,ee+e)),this._overflow=63&e},ne.prototype.finalize=function(){Ae.memory.fill(0,this._pointer,this._key+32),re>ee&&(Ae.memory.fill(0,ee,re),re=0),ie.push(this._pointer)},Ie.prototype.update=function(A,t){for(var e=new Uint8Array(64),r=0,i=this._overflow,o=A.length+this._overflow,n=this._z,I=-this._overflow,h=-this._overflow;o>=64;){for(he(e,n,this._s,te);i<64;i++)t[h+i]=A[I+i]^e[i];for(r=1,i=8;i<16;i++)r+=255&n[i]|0,n[i]=255&r,r>>>=8;o-=64,h+=64,I+=64,i=0}if(o>0)for(he(e,n,this._s,te);i<o;i++)t[h+i]=A[I+i]^e[i];this._overflow=63&o},Ie.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};function se(A,t){if(!A)throw new Error(t||"AssertionError")}se.notEqual=function(A,t,e){},se.notOk=function(A,t){},se.equal=function(A,t,e){},se.ok=se;var fe={};function Ee(A){if(!Ee.supported)return null;var t,r=A&&A.imports,i=(t="AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0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","function"==typeof atob?new Uint8Array(atob(t).split("").map(Ce)):new(e({}).Buffer)(t,"base64")),o=null,n={buffer:i,memory:null,exports:null,realloc:function(A){n.exports.memory.grow(Math.ceil(Math.abs(A-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)},onload:I};return I(function(){}),n;function I(t){if(n.exports)return t();if(o)o.then(t.bind(null,null)).catch(t);else{try{if(A&&A.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(i),r)})}catch(e){o=WebAssembly.instantiate(i,r).then(h)}I(t)}}function h(A){n.exports=A.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function Ce(A){return A.charCodeAt(0)}fe=Ee,Ee.supported="undefined"!=typeof WebAssembly;var ae={},ce=fe(),ye=64,Be=[];function ue(A,t,e,r,i){if(!(this instanceof ue))return new ue(A,t,e,r,i);if(!ce||!ce.exports)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");A||(A=32),Be.length||(Be.push(ye),ye+=216),this.digestLength=A,this.finalized=!1,this.pointer=Be.pop(),ce.memory.fill(0,0,64),ce.memory[0]=this.digestLength,ce.memory[1]=t?t.length:0,ce.memory[2]=1,ce.memory[3]=1,e&&ce.memory.set(e,32),r&&ce.memory.set(r,48),this.pointer+216>ce.memory.length&&ce.realloc(this.pointer+216),ce.exports.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),ce.memory.fill(0,ye,ye+t.length),ce.memory[this.pointer+200]=128)}function Qe(){}(ae=ue).BYTES_MIN=16,ae.BYTES_MAX=64,ae.BYTES=32,ae.KEYBYTES_MIN=16,ae.KEYBYTES_MAX=64,ae.KEYBYTES=32,ae.SALTBYTES=16,ae.PERSONALBYTES=16,ue.prototype.update=function(A){return ye+A.length>ce.memory.length&&ce.realloc(ye+A.length),ce.memory.set(A,ye),ce.exports.blake2b_update(this.pointer,ye,ye+A.length),this},ue.prototype.digest=function(A){if(this.finalized=!0,Be.push(this.pointer),ce.exports.blake2b_final(this.pointer),!A||"binary"===A)return ce.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("hex"===A)return function(A,t,e){for(var r="",i=0;i<e;i++)r+=(o=A[t+i])<16?"0"+o.toString(16):o.toString(16);var o;return r}(ce.memory,this.pointer+128,this.digestLength);for(var t=0;t<this.digestLength;t++)A[t]=ce.memory[this.pointer+128+t];return A},ue.prototype.final=ue.prototype.digest,ue.WASM=ce&&ce.buffer,ue.SUPPORTED="undefined"!=typeof WebAssembly,ue.ready=function(A){return A||(A=Qe),ce?new Promise(function(t,e){ce.onload(function(r){r?e():t(),A(r)})}):A(new Error("WebAssembly not supported"))},ue.prototype.ready=ue.ready;var le;function pe(A,t,e){var r=A[t]+A[e],i=A[t+1]+A[e+1];r>=4294967296&&i++,A[t]=r,A[t+1]=i}function we(A,t,e,r){var i=A[t]+e;e<0&&(i+=4294967296);var o=A[t+1]+r;i>=4294967296&&o++,A[t]=i,A[t+1]=o}function de(A,t){return A[t]^A[t+1]<<8^A[t+2]<<16^A[t+3]<<24}function Se(A,t,e,r,i,o){var n=Ue[i],I=Ue[i+1],h=Ue[o],g=Ue[o+1];pe(_e,A,t),we(_e,A,n,I);var s=_e[r]^_e[A],f=_e[r+1]^_e[A+1];_e[r]=f,_e[r+1]=s,pe(_e,e,r),s=_e[t]^_e[e],f=_e[t+1]^_e[e+1],_e[t]=s>>>24^f<<8,_e[t+1]=f>>>24^s<<8,pe(_e,A,t),we(_e,A,h,g),s=_e[r]^_e[A],f=_e[r+1]^_e[A+1],_e[r]=s>>>16^f<<16,_e[r+1]=f>>>16^s<<16,pe(_e,e,r),s=_e[t]^_e[e],f=_e[t+1]^_e[e+1],_e[t]=f>>>31^s<<1,_e[t+1]=s>>>31^f<<1}var De=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),be=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(A){return 2*A})),_e=new Uint32Array(32),Ue=new Uint32Array(32);function Me(A,t){var e=0;for(e=0;e<16;e++)_e[e]=A.h[e],_e[e+16]=De[e];for(_e[24]=_e[24]^A.t,_e[25]=_e[25]^A.t/4294967296,t&&(_e[28]=~_e[28],_e[29]=~_e[29]),e=0;e<32;e++)Ue[e]=de(A.b,4*e);for(e=0;e<12;e++)Se(0,8,16,24,be[16*e+0],be[16*e+1]),Se(2,10,18,26,be[16*e+2],be[16*e+3]),Se(4,12,20,28,be[16*e+4],be[16*e+5]),Se(6,14,22,30,be[16*e+6],be[16*e+7]),Se(0,10,20,30,be[16*e+8],be[16*e+9]),Se(2,12,22,24,be[16*e+10],be[16*e+11]),Se(4,14,16,26,be[16*e+12],be[16*e+13]),Se(6,8,18,28,be[16*e+14],be[16*e+15]);for(e=0;e<16;e++)A.h[e]=A.h[e]^_e[e]^_e[e+16]}var Fe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Ye(A,t,e,r){Fe.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=A,Fe[0]=A,t&&(Fe[1]=t.length),Fe[2]=1,Fe[3]=1,e&&Fe.set(e,32),r&&Fe.set(r,48);for(var i=0;i<16;i++)this.h[i]=De[i]^de(Fe,4*i);t&&(Ke(this,t),this.c=128)}function Ke(A,t){for(var e=0;e<t.length;e++)128===A.c&&(A.t+=A.c,Me(A,!1),A.c=0),A.b[A.c++]=t[e]}Ye.prototype.update=function(A){return Ke(this,A),this},Ye.prototype.digest=function(A){var t=A&&"binary"!==A&&"hex"!==A?A:new Uint8Array(this.outlen);return function(A,t){for(A.t+=A.c;A.c<128;)A.b[A.c++]=0;Me(A,!0);for(var e=0;e<A.outlen;e++)t[e]=A.h[e>>2]>>8*(3&e)}(this,t),"hex"===A?function(A){for(var t="",e=0;e<A.length;e++)t+=(r=A[e])<16?"0"+r.toString(16):r.toString(16);var r;return t}(t):t},Ye.prototype.final=Ye.prototype.digest,Ye.ready=function(A){ae.ready(function(){A()})};var ve=Ye;(le=function(A,t,e,r,i){return new ve(A,t,e,r)}).ready=function(A){ae.ready(function(){A()})},le.WASM_SUPPORTED=ae.SUPPORTED,le.WASM_LOADED=!1,le.BYTES_MIN=16,le.BYTES_MAX=64,le.BYTES=32,le.KEYBYTES_MIN=16,le.KEYBYTES_MAX=64,le.KEYBYTES=32,le.SALTBYTES=16,le.PERSONALBYTES=16,ae.ready(function(A){A||(le.WASM_LOADED=!0,ve=ae)});var me={crypto_generichash_PRIMITIVE:"blake2b"};me.crypto_generichash_BYTES_MIN=le.BYTES_MIN,me.crypto_generichash_BYTES_MAX=le.BYTES_MAX,me.crypto_generichash_BYTES=le.BYTES,me.crypto_generichash_KEYBYTES_MIN=le.KEYBYTES_MIN,me.crypto_generichash_KEYBYTES_MAX=le.KEYBYTES_MAX,me.crypto_generichash_KEYBYTES=le.KEYBYTES,me.crypto_generichash_WASM_SUPPORTED=le.WASM_SUPPORTED,me.crypto_generichash_WASM_LOADED=!1,me.crypto_generichash=function(A,t,e){le(A.length,e).update(t).final(A)},me.crypto_generichash_ready=le.ready,me.crypto_generichash_batch=function(A,t,e){for(var r=le(A.length,e),i=0;i<t.length;i++)r.update(t[i]);r.final(A)},me.crypto_generichash_instance=function(A,t){return null==t&&(t=me.crypto_generichash_BYTES),le(t,A)},le.ready(function(A){me.crypto_generichash_WASM_LOADED=le.WASM_LOADED});var ke={};(function(A){var t,e=(t=void 0!==A?t=A.crypto||A.msCrypto:null)&&t.getRandomValues?function(A,e){for(var r=0;r<e;r+=65536)t.getRandomValues(A.subarray(r,r+Math.min(e-r,65536)))}:(t=yA)&&t.randomBytes?function(A,e){A.set(t.randomBytes(e))}:function(){throw new Error("No secure random number generator available")};Object.defineProperty(ke,"randombytes",{value:e}),ke.randombytes_buf=function(A){e(A,A.length)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var xe={},Ge=ke.randombytes_buf;xe.crypto_kdf_PRIMITIVE="blake2b",xe.crypto_kdf_BYTES_MIN=16,xe.crypto_kdf_BYTES_MAX=64,xe.crypto_kdf_CONTEXTBYTES=8,xe.crypto_kdf_KEYBYTES=32,xe.crypto_kdf_derive_from_key=function(A,t,e,r){var i=new Uint8Array(le.PERSONALBYTES),o=new Uint8Array(le.SALTBYTES);i.set(e,0,xe.crypto_kdf_CONTEXTBYTES),function(A,t){var e=1,r=0;for(A[0]=255&t;++r<8&&(e*=256);)A[r]=t/e&255}(o,t);var n=Math.min(A.length,xe.crypto_kdf_BYTES_MAX);le(n,r.subarray(0,xe.crypto_kdf_KEYBYTES),o,i).final(A)},xe.crypto_kdf_keygen=function(A){Ge(A.subarray(0,xe.crypto_kdf_KEYBYTES))};var He={};function Te(A){if(!Te.supported)return null;var t,r=A&&A.imports,i=(t="AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=","function"==typeof atob?new Uint8Array(atob(t).split("").map(Ne)):new(e({}).Buffer)(t,"base64")),o=null,n={buffer:i,memory:null,exports:null,realloc:function(A){n.exports.memory.grow(Math.max(0,Math.ceil(Math.abs(A-n.memory.length)/65536))),n.memory=new Uint8Array(n.exports.memory.buffer)},onload:I};return I(function(){}),n;function I(t){if(n.exports)return t();if(o)o.then(t.bind(null,null)).catch(t);else{try{if(A&&A.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(i),r)})}catch(e){o=WebAssembly.instantiate(i,r).then(h)}I(t)}}function h(A){n.exports=A.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function Ne(A){return A.charCodeAt(0)}function Le(A,t){var e=A.l+t.l,r={h:A.h+t.h+(e/2>>>31)>>>0,l:e>>>0};A.h=r.h,A.l=r.l}function Ve(A,t){A.h^=t.h,A.h>>>=0,A.l^=t.l,A.l>>>=0}function Pe(A,t){var e={h:A.h<<t|A.l>>>32-t,l:A.l<<t|A.h>>>32-t};A.h=e.h,A.l=e.l}function Oe(A){var t=A.l;A.l=A.h,A.h=t}function Re(A,t,e,r){Le(A,t),Le(e,r),Pe(t,13),Pe(r,16),Ve(t,A),Ve(r,e),Oe(A),Le(e,t),Le(A,r),Pe(t,17),Pe(r,21),Ve(t,e),Ve(r,A),Oe(e)}function Je(A,t){return A[t+3]<<24|A[t+2]<<16|A[t+1]<<8|A[t]}He=Te,Te.supported="undefined"!=typeof WebAssembly;var qe=function(A,t,e){var r,i={h:Je(e,4),l:Je(e,0)},o={h:Je(e,12),l:Je(e,8)},n={h:i.h,l:i.l},I=i,h={h:o.h,l:o.l},g=o,s=0,f=t.length,E=f-7,C=new Uint8Array(new ArrayBuffer(8));for(Ve(n,{h:1936682341,l:1886610805}),Ve(h,{h:1685025377,l:1852075885}),Ve(I,{h:1819895653,l:1852142177}),Ve(g,{h:1952801890,l:2037671283});s<E;)Ve(g,r={h:Je(t,s+4),l:Je(t,s)}),Re(n,h,I,g),Re(n,h,I,g),Ve(n,r),s+=8;C[7]=f;for(var a=0;s<f;)C[a++]=t[s++];for(;a<7;)C[a++]=0;Ve(g,r={h:C[7]<<24|C[6]<<16|C[5]<<8|C[4],l:C[3]<<24|C[2]<<16|C[1]<<8|C[0]}),Re(n,h,I,g),Re(n,h,I,g),Ve(n,r),Ve(I,{h:0,l:255}),Re(n,h,I,g),Re(n,h,I,g),Re(n,h,I,g),Re(n,h,I,g);var c=n;Ve(c,h),Ve(c,I),Ve(c,g),A[0]=255&c.l,A[1]=c.l>>8&255,A[2]=c.l>>16&255,A[3]=c.l>>24&255,A[4]=255&c.h,A[5]=c.h>>8&255,A[6]=c.h>>16&255,A[7]=c.h>>24&255},Xe=ze;ze.BYTES=8,ze.KEYBYTES=16;var We=He();function ze(A,t,e,r){return e||(e=new Uint8Array(8)),We&&We.exports?(A.length+24>We.memory.length&&We.realloc(A.length+24),We.memory.set(t,8),We.memory.set(A,24),We.exports.siphash(24,A.length),e.set(We.memory.subarray(0,8))):qe(e,A,t),e}ze.WASM_SUPPORTED="undefined"!=typeof WebAssembly,ze.WASM_LOADED=!1,We&&We.onload(function(A){ze.WASM_LOADED=!A});var je={crypto_shorthash_PRIMITIVE:"siphash24"};je.crypto_shorthash_BYTES=Xe.BYTES,je.crypto_shorthash_KEYBYTES=Xe.KEYBYTES,je.crypto_shorthash_WASM_SUPPORTED=Xe.WASM_SUPPORTED,je.crypto_shorthash_WASM_LOADED=Xe.WASM_LOADED,je.crypto_shorthash=function(A,t,e,r){Xe(t,e,A,r)};var Ze={};function $e(A,t){this._instance=$t(A,t)}Ze.crypto_stream_KEYBYTES=32,Ze.crypto_stream_NONCEBYTES=24,Ze.crypto_stream_PRIMITIVE="xsalsa20",Ze.crypto_stream=function(A,t,e){A.fill(0),Ze.crypto_stream_xor(A,A,t,e)},Ze.crypto_stream_xor=function(A,t,e,r){var i=$t(e,r);i.update(t,A),i.final()},Ze.crypto_stream_xor_instance=function(A,t){return new $e(A,t)},$e.prototype.update=function(A,t){this._instance.update(t,A)},$e.prototype.final=function(){this._instance.finalize(),this._instance=null};var Ar={},tr=Ar,er=function(A){var t,e=new Float64Array(16);if(A)for(t=0;t<A.length;t++)e[t]=A[t];return e},rr=ke.randombytes,ir=(new Uint8Array(16),new Uint8Array(32));ir[0]=9;var or=er(),nr=er([1]),Ir=er([56129,1]),hr=er([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),gr=er([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),sr=er([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),fr=er([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Er=er([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Cr(A,t,e,r){A[t]=e>>24&255,A[t+1]=e>>16&255,A[t+2]=e>>8&255,A[t+3]=255&e,A[t+4]=r>>24&255,A[t+5]=r>>16&255,A[t+6]=r>>8&255,A[t+7]=255&r}function ar(A,t,e,r,i){var o,n=0;for(o=0;o<i;o++)n|=A[t+o]^e[r+o];return(1&n-1>>>8)-1}function cr(A,t,e,r){return ar(A,t,e,r,32)}var yr=function(A){var t,e,r,i,o,n,I,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&A[0]|(255&A[1])<<8,this.r[0]=8191&t,e=255&A[2]|(255&A[3])<<8,this.r[1]=8191&(t>>>13|e<<3),r=255&A[4]|(255&A[5])<<8,this.r[2]=7939&(e>>>10|r<<6),i=255&A[6]|(255&A[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&A[8]|(255&A[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,n=255&A[10]|(255&A[11])<<8,this.r[6]=8191&(o>>>14|n<<2),I=255&A[12]|(255&A[13])<<8,this.r[7]=8065&(n>>>11|I<<5),h=255&A[14]|(255&A[15])<<8,this.r[8]=8191&(I>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&A[16]|(255&A[17])<<8,this.pad[1]=255&A[18]|(255&A[19])<<8,this.pad[2]=255&A[20]|(255&A[21])<<8,this.pad[3]=255&A[22]|(255&A[23])<<8,this.pad[4]=255&A[24]|(255&A[25])<<8,this.pad[5]=255&A[26]|(255&A[27])<<8,this.pad[6]=255&A[28]|(255&A[29])<<8,this.pad[7]=255&A[30]|(255&A[31])<<8};function Br(A,t,e,r,i,o,n){Ze.crypto_stream_xor(A,e,o,n)}function ur(A,t,e,r,i,o){var n=new yr(o);return n.update(e,r,i),n.finish(A,t),0}function Qr(A,t,e,r,i){var o,n=new Uint8Array(32);if(e<32)return-1;if(function(A,t,e,r,i){Ze.crypto_stream(A,r,i)}(n,0,0,r,i),0!==function(A,t,e,r,i,o){var n=new Uint8Array(16);return ur(n,0,e,r,i,o),ar(A,t,n,0,16)}(t,16,t,32,e-32,n))return-1;for(Br(A,0,t,0,0,r,i),o=0;o<32;o++)A[o]=0;return 0}function lr(A,t){var e;for(e=0;e<16;e++)A[e]=0|t[e]}function pr(A){var t,e,r=1;for(t=0;t<16;t++)e=A[t]+r+65535,r=Math.floor(e/65536),A[t]=e-65536*r;A[0]+=r-1+37*(r-1)}function wr(A,t,e){for(var r,i=~(e-1),o=0;o<16;o++)r=i&(A[o]^t[o]),A[o]^=r,t[o]^=r}function dr(A,t){var e,r,i,o=er(),n=er();for(e=0;e<16;e++)n[e]=t[e];for(pr(n),pr(n),pr(n),r=0;r<2;r++){for(o[0]=n[0]-65517,e=1;e<15;e++)o[e]=n[e]-65535-(o[e-1]>>16&1),o[e-1]&=65535;o[15]=n[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,wr(n,o,1-i)}for(e=0;e<16;e++)A[2*e]=255&n[e],A[2*e+1]=n[e]>>8}function Sr(A,t){var e=new Uint8Array(32),r=new Uint8Array(32);return dr(e,A),dr(r,t),cr(e,0,r,0)}function Dr(A){var t=new Uint8Array(32);return dr(t,A),1&t[0]}function br(A,t){var e;for(e=0;e<16;e++)A[e]=t[2*e]+(t[2*e+1]<<8);A[15]&=32767}function _r(A,t,e){for(var r=0;r<16;r++)A[r]=t[r]+e[r]}function Ur(A,t,e){for(var r=0;r<16;r++)A[r]=t[r]-e[r]}function Mr(A,t,e){var r,i,o=0,n=0,I=0,h=0,g=0,s=0,f=0,E=0,C=0,a=0,c=0,y=0,B=0,u=0,Q=0,l=0,p=0,w=0,d=0,S=0,D=0,b=0,_=0,U=0,M=0,F=0,Y=0,K=0,v=0,m=0,k=0,x=e[0],G=e[1],H=e[2],T=e[3],N=e[4],L=e[5],V=e[6],P=e[7],O=e[8],R=e[9],J=e[10],q=e[11],X=e[12],W=e[13],z=e[14],j=e[15];o+=(r=t[0])*x,n+=r*G,I+=r*H,h+=r*T,g+=r*N,s+=r*L,f+=r*V,E+=r*P,C+=r*O,a+=r*R,c+=r*J,y+=r*q,B+=r*X,u+=r*W,Q+=r*z,l+=r*j,n+=(r=t[1])*x,I+=r*G,h+=r*H,g+=r*T,s+=r*N,f+=r*L,E+=r*V,C+=r*P,a+=r*O,c+=r*R,y+=r*J,B+=r*q,u+=r*X,Q+=r*W,l+=r*z,p+=r*j,I+=(r=t[2])*x,h+=r*G,g+=r*H,s+=r*T,f+=r*N,E+=r*L,C+=r*V,a+=r*P,c+=r*O,y+=r*R,B+=r*J,u+=r*q,Q+=r*X,l+=r*W,p+=r*z,w+=r*j,h+=(r=t[3])*x,g+=r*G,s+=r*H,f+=r*T,E+=r*N,C+=r*L,a+=r*V,c+=r*P,y+=r*O,B+=r*R,u+=r*J,Q+=r*q,l+=r*X,p+=r*W,w+=r*z,d+=r*j,g+=(r=t[4])*x,s+=r*G,f+=r*H,E+=r*T,C+=r*N,a+=r*L,c+=r*V,y+=r*P,B+=r*O,u+=r*R,Q+=r*J,l+=r*q,p+=r*X,w+=r*W,d+=r*z,S+=r*j,s+=(r=t[5])*x,f+=r*G,E+=r*H,C+=r*T,a+=r*N,c+=r*L,y+=r*V,B+=r*P,u+=r*O,Q+=r*R,l+=r*J,p+=r*q,w+=r*X,d+=r*W,S+=r*z,D+=r*j,f+=(r=t[6])*x,E+=r*G,C+=r*H,a+=r*T,c+=r*N,y+=r*L,B+=r*V,u+=r*P,Q+=r*O,l+=r*R,p+=r*J,w+=r*q,d+=r*X,S+=r*W,D+=r*z,b+=r*j,E+=(r=t[7])*x,C+=r*G,a+=r*H,c+=r*T,y+=r*N,B+=r*L,u+=r*V,Q+=r*P,l+=r*O,p+=r*R,w+=r*J,d+=r*q,S+=r*X,D+=r*W,b+=r*z,_+=r*j,C+=(r=t[8])*x,a+=r*G,c+=r*H,y+=r*T,B+=r*N,u+=r*L,Q+=r*V,l+=r*P,p+=r*O,w+=r*R,d+=r*J,S+=r*q,D+=r*X,b+=r*W,_+=r*z,U+=r*j,a+=(r=t[9])*x,c+=r*G,y+=r*H,B+=r*T,u+=r*N,Q+=r*L,l+=r*V,p+=r*P,w+=r*O,d+=r*R,S+=r*J,D+=r*q,b+=r*X,_+=r*W,U+=r*z,M+=r*j,c+=(r=t[10])*x,y+=r*G,B+=r*H,u+=r*T,Q+=r*N,l+=r*L,p+=r*V,w+=r*P,d+=r*O,S+=r*R,D+=r*J,b+=r*q,_+=r*X,U+=r*W,M+=r*z,F+=r*j,y+=(r=t[11])*x,B+=r*G,u+=r*H,Q+=r*T,l+=r*N,p+=r*L,w+=r*V,d+=r*P,S+=r*O,D+=r*R,b+=r*J,_+=r*q,U+=r*X,M+=r*W,F+=r*z,Y+=r*j,B+=(r=t[12])*x,u+=r*G,Q+=r*H,l+=r*T,p+=r*N,w+=r*L,d+=r*V,S+=r*P,D+=r*O,b+=r*R,_+=r*J,U+=r*q,M+=r*X,F+=r*W,Y+=r*z,K+=r*j,u+=(r=t[13])*x,Q+=r*G,l+=r*H,p+=r*T,w+=r*N,d+=r*L,S+=r*V,D+=r*P,b+=r*O,_+=r*R,U+=r*J,M+=r*q,F+=r*X,Y+=r*W,K+=r*z,v+=r*j,Q+=(r=t[14])*x,l+=r*G,p+=r*H,w+=r*T,d+=r*N,S+=r*L,D+=r*V,b+=r*P,_+=r*O,U+=r*R,M+=r*J,F+=r*q,Y+=r*X,K+=r*W,v+=r*z,m+=r*j,l+=(r=t[15])*x,n+=38*(w+=r*H),I+=38*(d+=r*T),h+=38*(S+=r*N),g+=38*(D+=r*L),s+=38*(b+=r*V),f+=38*(_+=r*P),E+=38*(U+=r*O),C+=38*(M+=r*R),a+=38*(F+=r*J),c+=38*(Y+=r*q),y+=38*(K+=r*X),B+=38*(v+=r*W),u+=38*(m+=r*z),Q+=38*(k+=r*j),o=(r=(o+=38*(p+=r*G))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),n=(r=n+i+65535)-65536*(i=Math.floor(r/65536)),I=(r=I+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),B=(r=B+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),Q=(r=Q+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),n=(r=n+i+65535)-65536*(i=Math.floor(r/65536)),I=(r=I+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),B=(r=B+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),Q=(r=Q+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),A[0]=o,A[1]=n,A[2]=I,A[3]=h,A[4]=g,A[5]=s,A[6]=f,A[7]=E,A[8]=C,A[9]=a,A[10]=c,A[11]=y,A[12]=B,A[13]=u,A[14]=Q,A[15]=l}function Fr(A,t){Mr(A,t,t)}function Yr(A,t){var e,r=er();for(e=0;e<16;e++)r[e]=t[e];for(e=253;e>=0;e--)Fr(r,r),2!==e&&4!==e&&Mr(r,r,t);for(e=0;e<16;e++)A[e]=r[e]}function Kr(A,t,e){gi(A,ti),gi(t,ei),gi(e,ti);var r,i,o=new Uint8Array(32),n=new Float64Array(80),I=er(),h=er(),g=er(),s=er(),f=er(),E=er();for(i=0;i<31;i++)o[i]=t[i];for(o[31]=127&t[31]|64,o[0]&=248,br(n,e),i=0;i<16;i++)h[i]=n[i],s[i]=I[i]=g[i]=0;for(I[0]=s[0]=1,i=254;i>=0;--i)wr(I,h,r=o[i>>>3]>>>(7&i)&1),wr(g,s,r),_r(f,I,g),Ur(I,I,g),_r(g,h,s),Ur(h,h,s),Fr(s,f),Fr(E,I),Mr(I,g,I),Mr(g,h,f),_r(f,I,g),Ur(I,I,g),Fr(h,I),Ur(g,s,E),Mr(I,g,Ir),_r(I,I,s),Mr(g,g,I),Mr(I,s,E),Mr(s,h,n),Fr(h,f),wr(I,h,r),wr(g,s,r);for(i=0;i<16;i++)n[i+16]=I[i],n[i+32]=g[i],n[i+48]=h[i],n[i+64]=s[i];var C=n.subarray(32),a=n.subarray(16);return Yr(C,C),Mr(a,a,C),dr(A,a),0}function vr(A,t){return Kr(A,t,ir)}yr.prototype.blocks=function(A,t,e){for(var r,i,o,n,I,h,g,s,f,E,C,a,c,y,B,u,Q,l,p,w=this.fin?0:2048,d=this.h[0],S=this.h[1],D=this.h[2],b=this.h[3],_=this.h[4],U=this.h[5],M=this.h[6],F=this.h[7],Y=this.h[8],K=this.h[9],v=this.r[0],m=this.r[1],k=this.r[2],x=this.r[3],G=this.r[4],H=this.r[5],T=this.r[6],N=this.r[7],L=this.r[8],V=this.r[9];e>=16;)E=f=0,E+=(d+=8191&(r=255&A[t+0]|(255&A[t+1])<<8))*v,E+=(S+=8191&(r>>>13|(i=255&A[t+2]|(255&A[t+3])<<8)<<3))*(5*V),E+=(D+=8191&(i>>>10|(o=255&A[t+4]|(255&A[t+5])<<8)<<6))*(5*L),E+=(b+=8191&(o>>>7|(n=255&A[t+6]|(255&A[t+7])<<8)<<9))*(5*N),f=(E+=(_+=8191&(n>>>4|(I=255&A[t+8]|(255&A[t+9])<<8)<<12))*(5*T))>>>13,E&=8191,E+=(U+=I>>>1&8191)*(5*H),E+=(M+=8191&(I>>>14|(h=255&A[t+10]|(255&A[t+11])<<8)<<2))*(5*G),E+=(F+=8191&(h>>>11|(g=255&A[t+12]|(255&A[t+13])<<8)<<5))*(5*x),E+=(Y+=8191&(g>>>8|(s=255&A[t+14]|(255&A[t+15])<<8)<<8))*(5*k),C=f+=(E+=(K+=s>>>5|w)*(5*m))>>>13,C+=d*m,C+=S*v,C+=D*(5*V),C+=b*(5*L),f=(C+=_*(5*N))>>>13,C&=8191,C+=U*(5*T),C+=M*(5*H),C+=F*(5*G),C+=Y*(5*x),f+=(C+=K*(5*k))>>>13,C&=8191,a=f,a+=d*k,a+=S*m,a+=D*v,a+=b*(5*V),f=(a+=_*(5*L))>>>13,a&=8191,a+=U*(5*N),a+=M*(5*T),a+=F*(5*H),a+=Y*(5*G),c=f+=(a+=K*(5*x))>>>13,c+=d*x,c+=S*k,c+=D*m,c+=b*v,f=(c+=_*(5*V))>>>13,c&=8191,c+=U*(5*L),c+=M*(5*N),c+=F*(5*T),c+=Y*(5*H),y=f+=(c+=K*(5*G))>>>13,y+=d*G,y+=S*x,y+=D*k,y+=b*m,f=(y+=_*v)>>>13,y&=8191,y+=U*(5*V),y+=M*(5*L),y+=F*(5*N),y+=Y*(5*T),B=f+=(y+=K*(5*H))>>>13,B+=d*H,B+=S*G,B+=D*x,B+=b*k,f=(B+=_*m)>>>13,B&=8191,B+=U*v,B+=M*(5*V),B+=F*(5*L),B+=Y*(5*N),u=f+=(B+=K*(5*T))>>>13,u+=d*T,u+=S*H,u+=D*G,u+=b*x,f=(u+=_*k)>>>13,u&=8191,u+=U*m,u+=M*v,u+=F*(5*V),u+=Y*(5*L),Q=f+=(u+=K*(5*N))>>>13,Q+=d*N,Q+=S*T,Q+=D*H,Q+=b*G,f=(Q+=_*x)>>>13,Q&=8191,Q+=U*k,Q+=M*m,Q+=F*v,Q+=Y*(5*V),l=f+=(Q+=K*(5*L))>>>13,l+=d*L,l+=S*N,l+=D*T,l+=b*H,f=(l+=_*G)>>>13,l&=8191,l+=U*x,l+=M*k,l+=F*m,l+=Y*v,p=f+=(l+=K*(5*V))>>>13,p+=d*V,p+=S*L,p+=D*N,p+=b*T,f=(p+=_*H)>>>13,p&=8191,p+=U*G,p+=M*x,p+=F*k,p+=Y*m,d=E=8191&(f=(f=((f+=(p+=K*v)>>>13)<<2)+f|0)+(E&=8191)|0),S=C+=f>>>=13,D=a&=8191,b=c&=8191,_=y&=8191,U=B&=8191,M=u&=8191,F=Q&=8191,Y=l&=8191,K=p&=8191,t+=16,e-=16;this.h[0]=d,this.h[1]=S,this.h[2]=D,this.h[3]=b,this.h[4]=_,this.h[5]=U,this.h[6]=M,this.h[7]=F,this.h[8]=Y,this.h[9]=K},yr.prototype.finish=function(A,t){var e,r,i,o,n=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(e=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=e,e=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*e,e=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=e,e=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=e,n[0]=this.h[0]+5,e=n[0]>>>13,n[0]&=8191,o=1;o<10;o++)n[o]=this.h[o]+e,e=n[o]>>>13,n[o]&=8191;for(n[9]-=8192,r=(1^e)-1,o=0;o<10;o++)n[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|n[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;A[t+0]=this.h[0]>>>0&255,A[t+1]=this.h[0]>>>8&255,A[t+2]=this.h[1]>>>0&255,A[t+3]=this.h[1]>>>8&255,A[t+4]=this.h[2]>>>0&255,A[t+5]=this.h[2]>>>8&255,A[t+6]=this.h[3]>>>0&255,A[t+7]=this.h[3]>>>8&255,A[t+8]=this.h[4]>>>0&255,A[t+9]=this.h[4]>>>8&255,A[t+10]=this.h[5]>>>0&255,A[t+11]=this.h[5]>>>8&255,A[t+12]=this.h[6]>>>0&255,A[t+13]=this.h[6]>>>8&255,A[t+14]=this.h[7]>>>0&255,A[t+15]=this.h[7]>>>8&255},yr.prototype.update=function(A,t,e){var r,i;if(this.leftover){for((i=16-this.leftover)>e&&(i=e),r=0;r<i;r++)this.buffer[this.leftover+r]=A[t+r];if(e-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(e>=16&&(i=e-e%16,this.blocks(A,t,i),t+=i,e-=i),e){for(r=0;r<e;r++)this.buffer[this.leftover+r]=A[t+r];this.leftover+=e}};var mr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function kr(A,t,e,r){for(var i,o,n,I,h,g,s,f,E,C,a,c,y,B,u,Q,l,p,w,d,S,D,b,_,U,M,F=new Int32Array(16),Y=new Int32Array(16),K=A[0],v=A[1],m=A[2],k=A[3],x=A[4],G=A[5],H=A[6],T=A[7],N=t[0],L=t[1],V=t[2],P=t[3],O=t[4],R=t[5],J=t[6],q=t[7],X=0;r>=128;){for(w=0;w<16;w++)d=8*w+X,F[w]=e[d+0]<<24|e[d+1]<<16|e[d+2]<<8|e[d+3],Y[w]=e[d+4]<<24|e[d+5]<<16|e[d+6]<<8|e[d+7];for(w=0;w<80;w++)if(i=K,o=v,n=m,I=k,h=x,g=G,s=H,E=N,C=L,a=V,c=P,y=O,B=R,u=J,b=65535&(D=q),_=D>>>16,U=65535&(S=T),M=S>>>16,b+=65535&(D=(O>>>14|x<<18)^(O>>>18|x<<14)^(x>>>9|O<<23)),_+=D>>>16,U+=65535&(S=(x>>>14|O<<18)^(x>>>18|O<<14)^(O>>>9|x<<23)),M+=S>>>16,b+=65535&(D=O&R^~O&J),_+=D>>>16,U+=65535&(S=x&G^~x&H),M+=S>>>16,S=mr[2*w],b+=65535&(D=mr[2*w+1]),_+=D>>>16,U+=65535&S,M+=S>>>16,S=F[w%16],_+=(D=Y[w%16])>>>16,U+=65535&S,M+=S>>>16,U+=(_+=(b+=65535&D)>>>16)>>>16,b=65535&(D=p=65535&b|_<<16),_=D>>>16,U=65535&(S=l=65535&U|(M+=U>>>16)<<16),M=S>>>16,b+=65535&(D=(N>>>28|K<<4)^(K>>>2|N<<30)^(K>>>7|N<<25)),_+=D>>>16,U+=65535&(S=(K>>>28|N<<4)^(N>>>2|K<<30)^(N>>>7|K<<25)),M+=S>>>16,_+=(D=N&L^N&V^L&V)>>>16,U+=65535&(S=K&v^K&m^v&m),M+=S>>>16,f=65535&(U+=(_+=(b+=65535&D)>>>16)>>>16)|(M+=U>>>16)<<16,Q=65535&b|_<<16,b=65535&(D=c),_=D>>>16,U=65535&(S=I),M=S>>>16,_+=(D=p)>>>16,U+=65535&(S=l),M+=S>>>16,v=i,m=o,k=n,x=I=65535&(U+=(_+=(b+=65535&D)>>>16)>>>16)|(M+=U>>>16)<<16,G=h,H=g,T=s,K=f,L=E,V=C,P=a,O=c=65535&b|_<<16,R=y,J=B,q=u,N=Q,w%16==15)for(d=0;d<16;d++)S=F[d],b=65535&(D=Y[d]),_=D>>>16,U=65535&S,M=S>>>16,S=F[(d+9)%16],b+=65535&(D=Y[(d+9)%16]),_+=D>>>16,U+=65535&S,M+=S>>>16,l=F[(d+1)%16],b+=65535&(D=((p=Y[(d+1)%16])>>>1|l<<31)^(p>>>8|l<<24)^(p>>>7|l<<25)),_+=D>>>16,U+=65535&(S=(l>>>1|p<<31)^(l>>>8|p<<24)^l>>>7),M+=S>>>16,l=F[(d+14)%16],_+=(D=((p=Y[(d+14)%16])>>>19|l<<13)^(l>>>29|p<<3)^(p>>>6|l<<26))>>>16,U+=65535&(S=(l>>>19|p<<13)^(p>>>29|l<<3)^l>>>6),M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,F[d]=65535&U|M<<16,Y[d]=65535&b|_<<16;b=65535&(D=N),_=D>>>16,U=65535&(S=K),M=S>>>16,S=A[0],_+=(D=t[0])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[0]=K=65535&U|M<<16,t[0]=N=65535&b|_<<16,b=65535&(D=L),_=D>>>16,U=65535&(S=v),M=S>>>16,S=A[1],_+=(D=t[1])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[1]=v=65535&U|M<<16,t[1]=L=65535&b|_<<16,b=65535&(D=V),_=D>>>16,U=65535&(S=m),M=S>>>16,S=A[2],_+=(D=t[2])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[2]=m=65535&U|M<<16,t[2]=V=65535&b|_<<16,b=65535&(D=P),_=D>>>16,U=65535&(S=k),M=S>>>16,S=A[3],_+=(D=t[3])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[3]=k=65535&U|M<<16,t[3]=P=65535&b|_<<16,b=65535&(D=O),_=D>>>16,U=65535&(S=x),M=S>>>16,S=A[4],_+=(D=t[4])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[4]=x=65535&U|M<<16,t[4]=O=65535&b|_<<16,b=65535&(D=R),_=D>>>16,U=65535&(S=G),M=S>>>16,S=A[5],_+=(D=t[5])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[5]=G=65535&U|M<<16,t[5]=R=65535&b|_<<16,b=65535&(D=J),_=D>>>16,U=65535&(S=H),M=S>>>16,S=A[6],_+=(D=t[6])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[6]=H=65535&U|M<<16,t[6]=J=65535&b|_<<16,b=65535&(D=q),_=D>>>16,U=65535&(S=T),M=S>>>16,S=A[7],_+=(D=t[7])>>>16,U+=65535&S,M+=S>>>16,M+=(U+=(_+=(b+=65535&D)>>>16)>>>16)>>>16,A[7]=T=65535&U|M<<16,t[7]=q=65535&b|_<<16,X+=128,r-=128}return r}function xr(A,t,e){var r,i=new Int32Array(8),o=new Int32Array(8),n=new Uint8Array(256),I=e;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,kr(i,o,t,e),e%=128,r=0;r<e;r++)n[r]=t[I-e+r];for(n[e]=128,n[(e=256-128*(e<112?1:0))-9]=0,Cr(n,e-8,I/536870912|0,I<<3),kr(i,o,n,e),r=0;r<8;r++)Cr(A,8*r,i[r],o[r]);return 0}function Gr(A,t){var e=er(),r=er(),i=er(),o=er(),n=er(),I=er(),h=er(),g=er(),s=er();Ur(e,A[1],A[0]),Ur(s,t[1],t[0]),Mr(e,e,s),_r(r,A[0],A[1]),_r(s,t[0],t[1]),Mr(r,r,s),Mr(i,A[3],t[3]),Mr(i,i,gr),Mr(o,A[2],t[2]),_r(o,o,o),Ur(n,r,e),Ur(I,o,i),_r(h,o,i),_r(g,r,e),Mr(A[0],n,I),Mr(A[1],g,h),Mr(A[2],h,I),Mr(A[3],n,g)}function Hr(A,t,e){var r;for(r=0;r<4;r++)wr(A[r],t[r],e)}function Tr(A,t){var e=er(),r=er(),i=er();Yr(i,t[2]),Mr(e,t[0],i),Mr(r,t[1],i),dr(A,r),A[31]^=Dr(e)<<7}function Nr(A,t,e){var r,i;for(lr(A[0],or),lr(A[1],nr),lr(A[2],nr),lr(A[3],or),i=255;i>=0;--i)Hr(A,t,r=e[i/8|0]>>(7&i)&1),Gr(t,A),Gr(A,A),Hr(A,t,r)}function Lr(A,t){var e=[er(),er(),er(),er()];lr(e[0],sr),lr(e[1],fr),lr(e[2],nr),Mr(e[3],sr,fr),Nr(A,e,t)}function Vr(A,t,e){gi(A,tr.crypto_sign_PUBLICKEYBYTES),gi(t,tr.crypto_sign_SECRETKEYBYTES);var r,i=new Uint8Array(64),o=[er(),er(),er(),er()];for(e||rr(t,32),xr(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,Lr(o,i),Tr(A,o),r=0;r<32;r++)t[r+32]=A[r];return 0}var Pr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Or(A,t){var e,r,i,o;for(r=63;r>=32;--r){for(e=0,i=r-32,o=r-12;i<o;++i)t[i]+=e-16*t[r]*Pr[i-(r-32)],e=t[i]+128>>8,t[i]-=256*e;t[i]+=e,t[r]=0}for(e=0,i=0;i<32;i++)t[i]+=e-(t[31]>>4)*Pr[i],e=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=e*Pr[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,A[r]=255&t[r]}function Rr(A){var t,e=new Float64Array(64);for(t=0;t<64;t++)e[t]=A[t];for(t=0;t<64;t++)A[t]=0;Or(A,e)}function Jr(A,t,e){gi(A,ni+t.length),gi(t,0),gi(e,hi);var r,i,o=t.length,n=new Uint8Array(64),I=new Uint8Array(64),h=new Uint8Array(64),g=new Float64Array(64),s=[er(),er(),er(),er()];for(xr(n,e,32),n[0]&=248,n[31]&=127,n[31]|=64,r=0;r<o;r++)A[64+r]=t[r];for(r=0;r<32;r++)A[32+r]=n[32+r];for(xr(h,A.subarray(32),o+32),Rr(h),Lr(s,h),Tr(A,s),r=32;r<64;r++)A[r]=e[r];for(xr(I,A,o+64),Rr(I),r=0;r<64;r++)g[r]=0;for(r=0;r<32;r++)g[r]=h[r];for(r=0;r<32;r++)for(i=0;i<32;i++)g[r+i]+=I[r]*n[i];Or(A.subarray(32),g)}function qr(A,t,e){gi(A,t.length-ni),gi(t,ni),gi(e,Ii);var r,i=t.length,o=new Uint8Array(t.length),n=new Uint8Array(32),I=new Uint8Array(64),h=[er(),er(),er(),er()],g=[er(),er(),er(),er()];if(i<64)return!1;if(function(A,t){var e=er(),r=er(),i=er(),o=er(),n=er(),I=er(),h=er();return lr(A[2],nr),br(A[1],t),Fr(i,A[1]),Mr(o,i,hr),Ur(i,i,A[2]),_r(o,A[2],o),Fr(n,o),Fr(I,n),Mr(h,I,n),Mr(e,h,i),Mr(e,e,o),function(A,t){var e,r=er();for(e=0;e<16;e++)r[e]=t[e];for(e=250;e>=0;e--)Fr(r,r),1!==e&&Mr(r,r,t);for(e=0;e<16;e++)A[e]=r[e]}(e,e),Mr(e,e,i),Mr(e,e,o),Mr(e,e,o),Mr(A[0],e,o),Fr(r,A[0]),Mr(r,r,o),Sr(r,i)&&Mr(A[0],A[0],Er),Fr(r,A[0]),Mr(r,r,o),Sr(r,i)?-1:(Dr(A[0])===t[31]>>7&&Ur(A[0],or,A[0]),Mr(A[3],A[0],A[1]),0)}(g,e))return!1;for(r=0;r<i;r++)o[r]=t[r];for(r=0;r<32;r++)o[r+32]=e[r];if(xr(I,o,i),Rr(I),Nr(h,g,I),Lr(g,t.subarray(32)),Gr(h,g),Tr(n,h),i-=64,cr(t,0,n,0)){for(r=0;r<i;r++)o[r]=0;return!1}for(r=0;r<i;r++)A[r]=t[r+64];return!0}function Xr(A,t,e,r){var i;gi(t,0),gi(A,t.length+tr.crypto_secretbox_MACBYTES),gi(e,Zr),gi(r,jr);var o=new Uint8Array($r+t.length),n=new Uint8Array(o.length);for(i=0;i<t.length;i++)o[i+$r]=t[i];for(function(A,t,e,r,i){var o;if(e<32)return-1;for(Br(A,0,t,0,0,r,i),ur(A,16,A,32,e-32,A),o=0;o<16;o++)A[o]=0}(n,o,o.length,e,r),i=Ai;i<n.length;i++)A[i-Ai]=n[i]}function Wr(A,t,e,r){var i;gi(t,tr.crypto_secretbox_MACBYTES),gi(A,t.length-tr.crypto_secretbox_MACBYTES),gi(e,Zr),gi(r,jr);var o=new Uint8Array(Ai+t.length),n=new Uint8Array(o.length);for(i=0;i<t.length;i++)o[i+Ai]=t[i];if(o.length<32)return!1;if(0!==Qr(n,o,o.length,e,r))return!1;for(i=$r;i<n.length;i++)A[i-$r]=n[i];return!0}function zr(A,t){return gi(A,ri),gi(t,ii),rr(t,32),vr(A,t)}var jr=32,Zr=24,$r=32,Ai=16,ti=32,ei=32,ri=32,ii=32,oi=Zr,ni=(32,64),Ii=32,hi=64;function gi(A,t){if(!A||t&&A.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function si(A){Object.keys(A).forEach(function(t){Ar[t]=A[t]})}tr.memzero=function(A,t){for(var e=t;e<A;e++)arr[e]=0},tr.crypto_sign_BYTES=ni,tr.crypto_sign_PUBLICKEYBYTES=Ii,tr.crypto_sign_SECRETKEYBYTES=hi,tr.crypto_sign_SEEDBYTES=32,tr.crypto_sign_keypair=Vr,tr.crypto_sign_seed_keypair=function(A,t,e){gi(e,tr.crypto_sign_SEEDBYTES),e.copy(t),Vr(A,t,!0)},tr.crypto_sign=Jr,tr.crypto_sign_open=qr,tr.crypto_sign_detached=function(A,t,e){var r=new Uint8Array(t.length+ni);Jr(r,t,e);for(var i=0;i<ni;i++)A[i]=r[i]},tr.crypto_sign_verify_detached=function(A,t,e){gi(A,ni);var r=new Uint8Array(t.length+ni),i=0;for(i=0;i<ni;i++)r[i]=A[i];for(i=0;i<t.length;i++)r[i+ni]=t[i];return qr(t,r,e)},si(me),si(xe),si(je),si(ke),si(Ze),tr.crypto_scalarmult_BYTES=ti,tr.crypto_scalarmult_SCALARBYTES=ei,tr.crypto_scalarmult_base=vr,tr.crypto_scalarmult=Kr,tr.crypto_secretbox_KEYBYTES=jr,tr.crypto_secretbox_NONCEBYTES=Zr,tr.crypto_secretbox_MACBYTES=16,tr.crypto_secretbox_easy=Xr,tr.crypto_secretbox_open_easy=Wr,tr.crypto_secretbox_detached=function(A,t,e,r,i){gi(t,tr.crypto_secretbox_MACBYTES);var o=new Uint8Array(e.length+t.length);Xr(o,e,r,i),A.set(o.subarray(0,e.length)),t.set(o.subarray(e.length))},tr.crypto_secretbox_open_detached=function(A,t,e,r,i){gi(e,tr.crypto_secretbox_MACBYTES);var o=new Uint8Array(t.length+e.length);return o.set(t),o.set(e,A.length),Wr(A,o,r,i)},tr.crypto_box_PUBLICKEYBYTES=ri,tr.crypto_box_SECRETKEYBYTES=ii,tr.crypto_box_SEALBYTES=48,tr.crypto_box_BEFORENMBYTES=32,tr.crypto_box_keypair=zr,tr.crypto_box_seal=function(A,t,e){gi(A,48+t.length),gi(e,ri);var r=A.subarray(0,ri),i=new Uint8Array(ii);zr(r,i);var o=new Uint8Array(oi);tr.crypto_generichash_batch(o,[r,e]);var n=new Uint8Array(ri);Kr(n,i,e);var I=new Uint8Array(32),h=new Uint8Array(16);$t.core_hsalsa20(I,h,n,$t.SIGMA),Xr(A.subarray(r.length),t,o,I),function(A){for(var t=0;t<A.length;t++)A[t]=0}(i)},tr.crypto_box_seal_open=function(A,t,e,r){gi(t,48),gi(A,t.length-48),gi(e,ri),gi(r,ii);var i=t.subarray(0,ri),o=new Uint8Array(oi);tr.crypto_generichash_batch(o,[i,e]);var n=new Uint8Array(ri);Kr(n,r,i);var I=new Uint8Array(32),h=new Uint8Array(16);return $t.core_hsalsa20(I,h,n,$t.SIGMA),Wr(A,t.subarray(i.length),o,I)},tr.sodium_malloc=function(A){return new Uint8Array(A)};var fi=Ar,Ei={};(function(A){const{PollMessage:t,PollStatement:e,IdentityMessage:r,VoteMsg:i}=F,o={deriveSubkey(t,e,r="__undef__",i=0){A.isBuffer(r)||(r=A.from(r));const o=A.alloc(e);return fi.crypto_kdf_derive_from_key(o,i,r.subarray(0,fi.crypto_kdf_CONTEXTBYTES),t),o},deriveSignPair(t,e="IDENTITY",r=0){const i=A.alloc(fi.crypto_sign_SECRETKEYBYTES),n=A.alloc(fi.crypto_sign_PUBLICKEYBYTES);return fi.crypto_sign_seed_keypair(n,i,o.deriveSubkey(t,fi.crypto_sign_SEEDBYTES,e,r)),{pub:n,sec:i}},deriveBoxPair(t,e="BOX00000",r=0){const i=A.alloc(fi.crypto_box_SECRETKEYBYTES),n=A.alloc(fi.crypto_box_PUBLICKEYBYTES);return fi.crypto_box_seed_keypair(n,i,o.deriveSubkey(t,fi.crypto_box_SEEDBYTES||32,e,r)),{pub:n,sec:i}},encrypt(t,e,r){"function"==typeof r&&(t=r(t)),A.isBuffer(t)||(t=A.from(t,"utf-8"));const i=A.allocUnsafe(t.length+fi.crypto_secretbox_NONCEBYTES+fi.crypto_secretbox_MACBYTES),o=i.subarray(0,fi.crypto_secretbox_NONCEBYTES);return fi.randombytes_buf(o),fi.crypto_secretbox_easy(i.subarray(fi.crypto_secretbox_NONCEBYTES),t,o,e),i},decrypt(t,e,r){const i=A.allocUnsafe(t.length-fi.crypto_secretbox_MACBYTES-fi.crypto_secretbox_NONCEBYTES),o=t.subarray(0,fi.crypto_secretbox_NONCEBYTES);if(!fi.crypto_secretbox_open_easy(i,t.subarray(fi.crypto_secretbox_NONCEBYTES),o,e))throw new Error("DecryptionFailedError");return"function"==typeof r?r(i,0,i.length):i},btoa:t=>"undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(t):("string"==typeof t&&(t=A.from(t)),t.toString("base64")),atob:t=>"undefined"!=typeof window&&"function"==typeof window.atob?window.atob(t):A.from(t,"base64"),sign(t,e){const r=A.allocUnsafe(fi.crypto_sign_BYTES+t.length);return fi.crypto_sign(r,t,e),r},signOpen(t,e){const r=A.allocUnsafe(t.length-fi.crypto_sign_BYTES);if(!fi.crypto_sign_open(r,t,e))throw new Error("Message failed signature authentication");return r},signDetached(t,e){const r=A.allocUnsafe(fi.crypto_sign_BYTES);return fi.crypto_sign_detached(r,t,e),r},verifyDetached:(A,t,e)=>fi.crypto_sign_verify_detached(t,A,e),puzzleEncrypt(t,e=1){if(e>3)throw new Error("Please mind the environment");const r=A.allocUnsafe(t.length+fi.crypto_secretbox_MACBYTES+fi.crypto_secretbox_NONCEBYTES+fi.crypto_pwhash_SALTBYTES),i=r.subarray(0,fi.crypto_pwhash_SALTBYTES),o=r.subarray(fi.crypto_pwhash_SALTBYTES,fi.crypto_pwhash_SALTBYTES+fi.crypto_secretbox_NONCEBYTES),n=A.allocUnsafe(e);fi.randombytes_buf(i),fi.randombytes_buf(o),fi.randombytes_buf(n);const I=A.allocUnsafe(fi.crypto_secretbox_KEYBYTES);return fi.crypto_pwhash(I,n,i,fi.crypto_pwhash_OPSLIMIT_INTERACTIVE,fi.crypto_pwhash_MEMLIMIT_INTERACTIVE,fi.crypto_pwhash_ALG_DEFAULT),fi.crypto_secretbox_easy(r.subarray(fi.crypto_pwhash_SALTBYTES+fi.crypto_secretbox_NONCEBYTES),t,o,I),r},puzzleBreak(t,e=1,r=null){if(e>3)throw new Error("Please mind the environment");const i=t.subarray(0,fi.crypto_pwhash_SALTBYTES),o=t.subarray(fi.crypto_pwhash_SALTBYTES),n=A.allocUnsafe(e),I=fi.crypto_secretbox_NONCEBYTES,h=o.subarray(0,I),g=fi.crypto_secretbox_MACBYTES+fi.crypto_secretbox_NONCEBYTES+fi.crypto_pwhash_SALTBYTES,s=t.length-g,f=A.allocUnsafe(s),E=A.allocUnsafe(fi.crypto_secretbox_KEYBYTES);let C=!1;const a=[];for(;!C;)if(fi.randombytes_buf(n),!a[n[0]]&&(a[n[0]]=!0,fi.crypto_pwhash(E,r||n,i,fi.crypto_pwhash_OPSLIMIT_INTERACTIVE,fi.crypto_pwhash_MEMLIMIT_INTERACTIVE,fi.crypto_pwhash_ALG_DEFAULT),C=fi.crypto_secretbox_open_easy(f,t.subarray(fi.crypto_pwhash_SALTBYTES+fi.crypto_secretbox_NONCEBYTES),h,E),r))return C?f:void 0;return{pw:n,data:f}},puzzleOpen:(A,t)=>o.puzzleBreak(A,void 0,t),_box(t,e,r){const i=A.allocUnsafe(fi.crypto_box_MACBYTES+fi.crypto_box_NONCEBYTES+r.length),o=i.subarray(0,fi.crypto_box_NONCEBYTES);fi.randombytes_buf(o);const n=i.subarray(fi.crypto_box_NONCEBYTES);return fi.crypto_box_easy(n,r,o,t,e),i},_unbox(t,e,r){const i=A.allocUnsafe(r.length-fi.crypto_box_MACBYTES-fi.crypto_box_NONCEBYTES),o=r.subarray(0,fi.crypto_box_NONCEBYTES);if(!fi.crypto_box_open_easy(i,r.subarray(fi.crypto_box_NONCEBYTES),o,t,e))throw new Error("DecryptionFailedError");return i},seal(t,e){const r=A.allocUnsafe(fi.crypto_box_SEALBYTES+t.length);return fi.crypto_box_seal(r,t,e),r},unseal(t,e,r){const i=A.allocUnsafe(t.length-fi.crypto_box_SEALBYTES);if(!fi.crypto_box_seal_open(i,t,r,e))throw new Error("DecryptionFailedError");return i}};(Ei=o).Identity=class t{constructor(t={}){this.box={pub:t.bpk||A.allocUnsafe(fi.crypto_box_PUBLICKEYBYTES),sec:t.bsk||A.allocUnsafe(fi.crypto_box_SECRETKEYBYTES)},t.bsk||fi.crypto_box_keypair(this.box.pub,this.box.sec),this.sig={pub:t.spk||A.allocUnsafe(fi.crypto_sign_PUBLICKEYBYTES),sec:t.ssk||A.allocUnsafe(fi.crypto_sign_SECRETKEYBYTES)},t.ssk||fi.crypto_sign_keypair(this.sig.pub,this.sig.sec)}static encode(A,t,e){const i={box:{sk:A.box.sec,pk:A.box.pub},sig:{sk:A.sig.sec,pk:A.sig.pub}};return r.encode(i,t,e).toString("base64")}static decode(e,i,o){"string"==typeof e&&(e=A.from(e,"base64"));const n=r.decode(e,i,o);return new t({bpk:n.box.pk,bsk:n.box.sk,spk:n.sig.pk,ssk:n.sig.sk})}},Ei.Poll=class r extends Wt{static get CHALLENGE_IDX(){return 0}static get BALLOT_IDX(){return 1}constructor(A,e){super(A,{...e,contentEncoding:t})}packChallenge(A,t){const{motion:e,options:r,endsAt:i,version:o,motd:n,extra:I}=t,h={challenge:{version:o||1,box_pk:A,motion:e,options:r,ends_at:i,motd:n,extra:I}};this.append(h)}get challenge(){return this.get(r.CHALLENGE_IDX).challenge}get ballot(){return this.get(r.BALLOT_IDX).ballot}packVote(t,e,i=!1){if(!A.isBuffer(e))throw new Error("vote must be a buffer");const n=A.alloc(fi.crypto_secretbox_KEYBYTES);fi.randombytes_buf(n);const I={ballot:{box_pk:t.box.pub,secret_vote:o.encrypt(e,n),box_msg:o.seal(n,this.challenge.box_pk)}},h=o.decrypt(I.ballot.secret_vote,n);if(!e.equals(h))throw console.log(`Expected: (${e.length})`,e.toString(),`\nto equal: (${h.length})`,h.toString()),new Error("Internal error, encryption failed");if(i||this.truncateAfter(r.CHALLENGE_IDX),1!==this.length)throw new Error("invalid length after truncation");return this.append(I,t.sig.sec),n}unboxBallot(A,t){const e=this.ballot;return o.unseal(e.box_msg,A,t)}_decryptVote(A){return o.decrypt(this.ballot.secret_vote,A)}get ballotKey(){let A=2;for(const t of this.keys)if(!--A)return t;return null}toStatement(A,t){const r=this.unboxBallot(A,t),i={vote:this._decryptVote(r),proof:o.encrypt(this.ballotKey,r)};return e.encode(i)}},Ei.Poll.Statement=e,Ei.VoteMsg=i,Ei.Buffer=A,Ei.sodium=fi,"undefined"!=typeof window&&(window.Cryptology=Ei)}).call(this,e({}).Buffer)}();</script>
<script>
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3-or-later
const { Poll, Identity, VoteMsg, Buffer } = Cryptology
const SIG_PK = Buffer.from('bc84402f1452ebb8c8436b4c0b59e878dfe826b1b493156f2a628954cf539f53', 'hex')
const HARDPOLL = 'PIC0FDSPKEYvIRALxRS67jIQ2tMC1noeN%2FoJrG0kxVvKmKJVM9Tn1MBLOCKX5S7wlL2%2BTCaZLOTNHUpVQA6jRa208zIgi7r7CaxGW6QntfHnoLvoVqHp%2FSc%2FyvM4Rz7oyhP7ZTGoA6x5u9YCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMCkoIuteAtpQuEiC%2FSIPbiC2D%2Bh%2BjEsBa2zX66kSpea0J75licq4SewWmKjIfSGVsbG8gV29ybGQhIEhvdyBhcmUgeW91IGRvaW5nPw'

const state = {
  identity: null,
  poll: null,
  vote: {
    value: 0,
    geo: null
  },
  urlPrefix: 'https://survive.click/#',
  absURL: null,
  pickle: null,
  tags: 'moodpebble,hackthecrisis'
}

const updateVote = (value) => {
  state.vote.value = value
  state.receipt = state.poll.packVote(state.identity, VoteMsg.encode(state.vote))
  render()
}
const pMsg = `This will irrecoverably destroy
your current keys and delete
all traces of having used this app.

Is this what you want?
`
const panic = ev => {
  ev.preventDefault()
  if (!confirm(pMsg)) return
  localStorage.clear()
  window.location = 'about:blank'
}

const copyPickle = ev => {
  ev.preventDefault()
  const copyText = document.getElementById("pickleInput")
  copyText.select()
  copyText.setSelectionRange(0, 99999) /*For mobile devices*/
  document.execCommand("copy")
  alert('Pebblelink copied to clipboard')
}

const render = () => {
  // Update state
  // Render.
  state.pickle = state.poll.pickle()
  // const pubId = state.identity.sig.pub.toString('hex').substr(0, 8)
  const ch = state.poll.challenge

  const motd = new Date(ch.version).getYear() > 70
    ? new Date(ch.version).toDateString() + ': ' + ch.motd
    : `motd#${ch.version}: ${ch.motd}`
  document.getElementById('motd').innerText = motd

  state.shareText =  ch.motion || `This is my pebble`
  state.absURL = `${state.urlPrefix}${state.pickle}`
  document.getElementById('pickleInput').value = state.absURL
  document.getElementById('pickleLink').href = state.absURL
  // Setup social links
  const eURL = encodeURIComponent(state.urlPrefix) + state.pickle
  const eText = encodeURIComponent(state.shareText)
  document.getElementById('aTw').href = mkTweetUrl(eURL, eText, null, state.tags)
  document.getElementById('aFb').href = 'https://facebook.com/sharer/sharer.php?u=' + eURL
  document.getElementById('aVk').href = 'http://vk.com/share.php?title=' + eText + '&url=' + eURL
  // document.getElementById('aTg').href = 'https://telegram.me/share/url?text=' + eText + '&url=' + eURL
  // Reflect selection
  document.getElementsByName('mood').forEach(e => e.checked = e.value === '' + state.vote.value)
  // document.getElementById('replicate').hidden = !state.vote.value
  console.info('dom updated')
}
const initApp = () => {
  // Init identity
  const stored = localStorage.getItem('identity')
  if (!stored) {
    state.identity = new Identity()
    window.localStorage.setItem('identity', Identity.encode(state.identity))
    console.info('new identity generated')
  } else {
    state.identity = Identity.decode(stored)
    console.info('existing identity loaded')
  }
  // Init poll
  if (!window.location.hash.length) {
    window.location.hash = HARDPOLL
  }

  const hcPoll = new Poll(HARDPOLL)
  try {
    state.poll = new Poll(window.location.hash.slice(1))
    if (!SIG_PK.equals(state.poll.key)) throw new Error('Not my poll')
    if (state.poll.challenge.version < hcPoll.challenge.version) {
      throw new Error('upgrading')
    }
    state.poll.challenge
  } catch(e) {
    console.error('Failed to load poll', e)
    console.warn('Loading default')
    state.poll = hcPoll
    window.location.hash = state.poll.pickle()
  }
  // Attach listeners
  document.getElementsByName('mood')
    .forEach(i => i.addEventListener('change', updateVote.bind(null, i.value)))
  document.getElementById('pickleLink').addEventListener('click', copyPickle)
  document.getElementById('panicButton').addEventListener('click', panic)
  document.getElementById('poll').addEventListener('submit', ev => ev.preventDefault())
  // Update view
  render()
}

document.addEventListener('readystatechange',
  event => event.target.readyState === 'complete' && initApp())

const sealed0K = `
Please Respect My Privacy And The Privacy Of Others
v0iD24gtg/ofoxLAWts1+upEqXmtCe+ZYnKuEnsFpio
eiXBv+DUz6HEN06RpUXZntYezvy6cc+/6ceJH8mM7k8
These keys are reserved for science and education,
if you wish to use this dataset for commercial purpose, please
fund the operation to collect, anonymize and curate
a freely available public dataset.
`
// This research is littererily driving me insane..
// the idea of using a trusted public secret forms a self powering belief loopback.
function get0kWithPliers () {
  return sealed0K.split('\n')[3]
}


function mkTweetUrl (url, text, via, hashtags) {
  return 'https://twitter.com/intent/tweet?' +
    'tw_p=tweetbutton' +
    (hashtags ? '&hashtags=' + encodeURI(hashtags) : '') +
    (text ? '&text=' + text : '') +
    ( via ? '&via=' + via : '') +
    '&url=' + url
}
// @license-end
</script>
  </body>
</html>
